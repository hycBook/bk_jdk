
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>多线程_基础篇 · Java相关学习记录</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="narutohyc">
        
        
    
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-donate/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-mermaid-gb3/mermaid/mermaid.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    


    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="多线程_锁.html" />
    
    
    <link rel="prev" href="多线程.md" />
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"buttons":[{"user":"narutohyc","repo":"bk_jdk","type":"star","size":"small","count":true}]};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://github.com/narutohyc" target="_blank" class="custom-link">我的狗窝</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                        <b>1.1.</b>
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="设计模式.md">
            
                <span>
            
                    
                        <b>1.2.</b>
                    
                    设计模式
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="设计模式_设计模式的概念.html">
            
                <a href="设计模式_设计模式的概念.html">
            
                    
                        <b>1.2.1.</b>
                    
                    设计模式_设计模式的概念
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="设计模式_组成和分类.html">
            
                <a href="设计模式_组成和分类.html">
            
                    
                        <b>1.2.2.</b>
                    
                    设计模式_组成和分类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="设计模式_六大设计原则.html">
            
                <a href="设计模式_六大设计原则.html">
            
                    
                        <b>1.2.3.</b>
                    
                    设计模式_六大设计原则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="设计模式_创建型模式.html">
            
                <a href="设计模式_创建型模式.html">
            
                    
                        <b>1.2.4.</b>
                    
                    设计模式_创建型模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="设计模式_结构型模式.html">
            
                <a href="设计模式_结构型模式.html">
            
                    
                        <b>1.2.5.</b>
                    
                    设计模式_结构型模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="设计模式_行为型模式.html">
            
                <a href="设计模式_行为型模式.html">
            
                    
                        <b>1.2.6.</b>
                    
                    设计模式_行为型模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="设计模式_总结.html">
            
                <a href="设计模式_总结.html">
            
                    
                        <b>1.2.7.</b>
                    
                    设计模式_总结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="多线程.md">
            
                <span>
            
                    
                        <b>1.3.</b>
                    
                    多线程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.3.1" data-path="多线程_基础篇.html">
            
                <a href="多线程_基础篇.html">
            
                    
                        <b>1.3.1.</b>
                    
                    多线程_基础篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="多线程_锁.html">
            
                <a href="多线程_锁.html">
            
                    
                        <b>1.3.2.</b>
                    
                    多线程_锁
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="多线程_JUC原子类.html">
            
                <a href="多线程_JUC原子类.html">
            
                    
                        <b>1.3.3.</b>
                    
                    多线程_JUC原子类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="多线程_JUC锁集合 .html">
            
                <a href="多线程_JUC锁集合 .html">
            
                    
                        <b>1.3.4.</b>
                    
                    多线程_JUC锁集合 
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="多线程_ JUC集合.html">
            
                <a href="多线程_ JUC集合.html">
            
                    
                        <b>1.3.5.</b>
                    
                    多线程_ JUC集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="多线程_JUC线程池.html">
            
                <a href="多线程_JUC线程池.html">
            
                    
                        <b>1.3.6.</b>
                    
                    多线程_JUC线程池
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="多线程_生产者消费者.html">
            
                <a href="多线程_生产者消费者.html">
            
                    
                        <b>1.3.7.</b>
                    
                    多线程_生产者消费者
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="IDEA快捷键.html">
            
                <a href="IDEA快捷键.html">
            
                    
                        <b>1.4.</b>
                    
                    IDEA快捷键
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="Spring注解.md">
            
                <span>
            
                    
                        <b>1.5.</b>
                    
                    Spring注解
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="Spring注解_介绍.html">
            
                <a href="Spring注解_介绍.html">
            
                    
                        <b>1.5.1.</b>
                    
                    Spring注解_介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="Spring注解_常用注解.html">
            
                <a href="Spring注解_常用注解.html">
            
                    
                        <b>1.5.2.</b>
                    
                    Spring注解_常用注解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="Spring注解_Spring入门篇.html">
            
                <a href="Spring注解_Spring入门篇.html">
            
                    
                        <b>1.5.3.</b>
                    
                    Spring注解_Spring入门篇
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="Java基础.md">
            
                <span>
            
                    
                        <b>1.6.</b>
                    
                    Java基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="Java基础_集合.html">
            
                <a href="Java基础_集合.html">
            
                    
                        <b>1.6.1.</b>
                    
                    Java基础_集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="Java基础_泛型.html">
            
                <a href="Java基础_泛型.html">
            
                    
                        <b>1.6.2.</b>
                    
                    Java基础_泛型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="Java基础_打jar包.html">
            
                <a href="Java基础_打jar包.html">
            
                    
                        <b>1.6.3.</b>
                    
                    Java基础_打jar包
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="Java基础_正则匹配.html">
            
                <a href="Java基础_正则匹配.html">
            
                    
                        <b>1.6.4.</b>
                    
                    Java基础_正则匹配
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="Java基础_反射机制.html">
            
                <a href="Java基础_反射机制.html">
            
                    
                        <b>1.6.5.</b>
                    
                    Java基础_反射机制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="Java基础_对象正反序列化.html">
            
                <a href="Java基础_对象正反序列化.html">
            
                    
                        <b>1.6.6.</b>
                    
                    Java基础_对象正反序列化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="Java基础_读取配置文件.html">
            
                <a href="Java基础_读取配置文件.html">
            
                    
                        <b>1.6.7.</b>
                    
                    Java基础_读取配置文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="Java基础_解析与生成XML.html">
            
                <a href="Java基础_解析与生成XML.html">
            
                    
                        <b>1.6.8.</b>
                    
                    Java基础_解析与生成XML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.9" data-path="Java基础_后台服务器开发.html">
            
                <a href="Java基础_后台服务器开发.html">
            
                    
                        <b>1.6.9.</b>
                    
                    Java基础_后台服务器开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.10" data-path="Java基础_四舍五入.html">
            
                <a href="Java基础_四舍五入.html">
            
                    
                        <b>1.6.10.</b>
                    
                    Java基础_四舍五入
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="Java进阶.md">
            
                <span>
            
                    
                        <b>1.7.</b>
                    
                    Java进阶
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="Java进阶_反射.html">
            
                <a href="Java进阶_反射.html">
            
                    
                        <b>1.7.1.</b>
                    
                    Java进阶_反射
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="Java进阶_注解.html">
            
                <a href="Java进阶_注解.html">
            
                    
                        <b>1.7.2.</b>
                    
                    Java进阶_注解
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="MySQL.md">
            
                <span>
            
                    
                        <b>1.8.</b>
                    
                    MySQL
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="MySQL_基础.html">
            
                <a href="MySQL_基础.html">
            
                    
                        <b>1.8.1.</b>
                    
                    MySQL_基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="MySQL_约束.html">
            
                <a href="MySQL_约束.html">
            
                    
                        <b>1.8.2.</b>
                    
                    MySQL_约束
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="MySQL_多表查询.html">
            
                <a href="MySQL_多表查询.html">
            
                    
                        <b>1.8.3.</b>
                    
                    MySQL_多表查询
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="MySQL_事务.html">
            
                <a href="MySQL_事务.html">
            
                    
                        <b>1.8.4.</b>
                    
                    MySQL_事务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="MySQL_数据库设计.html">
            
                <a href="MySQL_数据库设计.html">
            
                    
                        <b>1.8.5.</b>
                    
                    MySQL_数据库设计
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="JDBC.md">
            
                <span>
            
                    
                        <b>1.9.</b>
                    
                    JDBC
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="JDBC_JDBC基础.html">
            
                <a href="JDBC_JDBC基础.html">
            
                    
                        <b>1.9.1.</b>
                    
                    JDBC_JDBC基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="JDBC_JDBC连接池.html">
            
                <a href="JDBC_JDBC连接池.html">
            
                    
                        <b>1.9.2.</b>
                    
                    JDBC_JDBC连接池
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="JDBC_JDBCTemplate.html">
            
                <a href="JDBC_JDBCTemplate.html">
            
                    
                        <b>1.9.3.</b>
                    
                    JDBC_JDBCTemplate
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="Spark集群搭建.html">
            
                <a href="Spark集群搭建.html">
            
                    
                        <b>1.10.</b>
                    
                    Spark集群搭建
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >多线程_基础篇</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#&#x57FA;&#x7840;&#x7BC7;"><b></b>&#x57FA;&#x7840;&#x7BC7;</a></li><li><span class="title-icon "></span><a href="#&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;"><b></b>&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;</a></li><li><span class="title-icon "></span><a href="#synchronized&#x5173;&#x952E;&#x5B57;"><b></b>synchronized&#x5173;&#x952E;&#x5B57;</a></li><li><span class="title-icon "></span><a href="#&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#x4E0E;&#x5524;&#x9192;"><b></b>&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#x4E0E;&#x5524;&#x9192;</a></li><li><span class="title-icon "></span><a href="#&#x7EBF;&#x7A0B;&#x8BA9;&#x6B65;yield"><b></b>&#x7EBF;&#x7A0B;&#x8BA9;&#x6B65;yield()</a></li><li><span class="title-icon "></span><a href="#&#x7EBF;&#x7A0B;&#x4F11;&#x7720;sleep"><b></b>&#x7EBF;&#x7A0B;&#x4F11;&#x7720;sleep()</a></li><li><span class="title-icon "></span><a href="#join-&#x65B9;&#x6CD5;"><b></b>join() &#x65B9;&#x6CD5;</a></li><li><span class="title-icon "></span><a href="#interrupt&#x548C;&#x7EBF;&#x7A0B;&#x7EC8;&#x6B62;&#x65B9;&#x5F0F;"><b></b>interrupt()&#x548C;&#x7EBF;&#x7A0B;&#x7EC8;&#x6B62;&#x65B9;&#x5F0F;</a></li><li><span class="title-icon "></span><a href="#&#x7EBF;&#x7A0B;&#x4F18;&#x5148;&#x7EA7;&#x548C;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;"><b></b>&#x7EBF;&#x7A0B;&#x4F18;&#x5148;&#x7EA7;&#x548C;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;</a></li><li><span class="title-icon "></span><a href="#&#x751F;&#x4EA7;&#x6D88;&#x8D39;&#x8005;&#x95EE;&#x9898;"><b></b>&#x751F;&#x4EA7;&#x6D88;&#x8D39;&#x8005;&#x95EE;&#x9898;</a></li></ul></div><a href="#&#x57FA;&#x7840;&#x7BC7;" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><p><img src="https://upload-images.jianshu.io/upload_images/15675864-e39212ac990782cf.png" alt="&#x5F02;&#x4E16;&#x754C;.png"></p>
<p>[TOC]</p>
<h1 id="&#x57FA;&#x7840;&#x7BC7;"><a name="&#x57FA;&#x7840;&#x7BC7;" class="anchor-navigation-ex-anchor" href="#&#x57FA;&#x7840;&#x7BC7;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x57FA;&#x7840;&#x7BC7;" class="plugin-anchor" href="#&#x57FA;&#x7840;&#x7BC7;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x57FA;&#x7840;&#x7BC7;</h1>
<pre><code class="lang-cmd"><span class="hljs-number">1</span>. Java&#x591A;&#x7EBF;&#x7A0B;&#x7CFB;&#x5217;&#x76EE;&#x5F55;(&#x5171;<span class="hljs-number">43</span>&#x7BC7;)-&#x8F6C;    
<span class="hljs-function">    https://<span class="hljs-title">www.jianshu.com</span>/<span class="hljs-title">p</span>/<span class="hljs-title">dca27f047923</span>
<span class="hljs-title">https</span>://<span class="hljs-title">www.cnblogs.com</span>/<span class="hljs-title">skywang12345</span>/<span class="hljs-title">p</span>/<span class="hljs-title">java_threads_category.html</span>
</span></code></pre>
<p>&#x7EBF;&#x7A0B;&#x5171;&#x5305;&#x62EC;&#x4EE5;&#x4E0B;5&#x79CD;&#x72B6;&#x6001;&#xFF1A;</p>
<ol>
<li><strong>&#x65B0;&#x5EFA;&#x72B6;&#x6001;(New) </strong>: &#x7EBF;&#x7A0B;&#x5BF9;&#x8C61;&#x88AB;&#x521B;&#x5EFA;&#x540E;&#xFF0C;&#x5C31;&#x8FDB;&#x5165;&#x4E86;&#x65B0;&#x5EFA;&#x72B6;&#x6001;&#x3002;&#x4F8B;&#x5982;&#xFF0C;Thread thread = new Thread()&#x3002;</li>
<li><strong>&#x5C31;&#x7EEA;&#x72B6;&#x6001;(Runnable)</strong>: &#x4E5F;&#x88AB;&#x79F0;&#x4E3A;&#x201C;&#x53EF;&#x6267;&#x884C;&#x72B6;&#x6001;&#x201D;&#x3002;&#x7EBF;&#x7A0B;&#x5BF9;&#x8C61;&#x88AB;&#x521B;&#x5EFA;&#x540E;&#xFF0C;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x8C03;&#x7528;&#x4E86;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;start()&#x65B9;&#x6CD5;&#xFF0C;&#x4ECE;&#x800C;&#x6765;&#x542F;&#x52A8;&#x8BE5;&#x7EBF;&#x7A0B;&#x3002;&#x4F8B;&#x5982;&#xFF0C;thread.start()&#x3002;&#x5904;&#x4E8E;&#x5C31;&#x7EEA;&#x72B6;&#x6001;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x968F;&#x65F6;&#x53EF;&#x80FD;&#x88AB;CPU&#x8C03;&#x5EA6;&#x6267;&#x884C;&#x3002;</li>
<li><strong>&#x8FD0;&#x884C;&#x72B6;&#x6001;(Running)</strong>: &#x7EBF;&#x7A0B;&#x83B7;&#x53D6;CPU&#x6743;&#x9650;&#x8FDB;&#x884C;&#x6267;&#x884C;&#x3002;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x7EBF;&#x7A0B;&#x53EA;&#x80FD;&#x4ECE;&#x5C31;&#x7EEA;&#x72B6;&#x6001;&#x8FDB;&#x5165;&#x5230;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x3002;</li>
<li><strong>&#x963B;&#x585E;&#x72B6;&#x6001;(Blocked) </strong>: &#x963B;&#x585E;&#x72B6;&#x6001;&#x662F;&#x7EBF;&#x7A0B;&#x56E0;&#x4E3A;&#x67D0;&#x79CD;&#x539F;&#x56E0;&#x653E;&#x5F03;CPU&#x4F7F;&#x7528;&#x6743;&#xFF0C;&#x6682;&#x65F6;&#x505C;&#x6B62;&#x8FD0;&#x884C;&#x3002;&#x76F4;&#x5230;&#x7EBF;&#x7A0B;&#x8FDB;&#x5165;&#x5C31;&#x7EEA;&#x72B6;&#x6001;&#xFF0C;&#x624D;&#x6709;&#x673A;&#x4F1A;&#x8F6C;&#x5230;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x3002;&#x963B;&#x585E;&#x7684;&#x60C5;&#x51B5;&#x5206;&#x4E09;&#x79CD;&#xFF1A;
(01) <strong>&#x7B49;&#x5F85;&#x963B;&#x585E;</strong> -- &#x901A;&#x8FC7;&#x8C03;&#x7528;&#x7EBF;&#x7A0B;&#x7684;wait()&#x65B9;&#x6CD5;&#xFF0C;&#x8BA9;&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#x67D0;&#x5DE5;&#x4F5C;&#x7684;&#x5B8C;&#x6210;&#x3002;
(02) <strong>&#x540C;&#x6B65;&#x963B;&#x585E;</strong> -- &#x7EBF;&#x7A0B;&#x5728;&#x83B7;&#x53D6;synchronized&#x540C;&#x6B65;&#x9501;&#x5931;&#x8D25;(&#x56E0;&#x4E3A;&#x9501;&#x88AB;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x6240;&#x5360;&#x7528;)&#xFF0C;&#x5B83;&#x4F1A;&#x8FDB;&#x5165;&#x540C;&#x6B65;&#x963B;&#x585E;&#x72B6;&#x6001;&#x3002;
(03) <strong>&#x5176;&#x4ED6;&#x963B;&#x585E;</strong> -- &#x901A;&#x8FC7;&#x8C03;&#x7528;&#x7EBF;&#x7A0B;&#x7684;sleep()&#x6216;join()&#x6216;&#x53D1;&#x51FA;&#x4E86;I/O&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x7EBF;&#x7A0B;&#x4F1A;&#x8FDB;&#x5165;&#x5230;&#x963B;&#x585E;&#x72B6;&#x6001;&#x3002;&#x5F53;sleep()&#x72B6;&#x6001;&#x8D85;&#x65F6;&#x3001;join()&#x7B49;&#x5F85;&#x7EBF;&#x7A0B;&#x7EC8;&#x6B62;&#x6216;&#x8005;&#x8D85;&#x65F6;&#x3001;&#x6216;&#x8005;I/O&#x5904;&#x7406;&#x5B8C;&#x6BD5;&#x65F6;&#xFF0C;&#x7EBF;&#x7A0B;&#x91CD;&#x65B0;&#x8F6C;&#x5165;&#x5C31;&#x7EEA;&#x72B6;&#x6001;&#x3002;</li>
<li><strong>&#x6B7B;&#x4EA1;&#x72B6;&#x6001;(Dead) </strong>: &#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x5B8C;&#x4E86;&#x6216;&#x8005;&#x56E0;&#x5F02;&#x5E38;&#x9000;&#x51FA;&#x4E86;run()&#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x7EBF;&#x7A0B;&#x7ED3;&#x675F;&#x751F;&#x547D;&#x5468;&#x671F;&#x3002;</li>
</ol>
<p>&#x6269;&#x5C55;&#xFF1A;
<strong>Object&#x7C7B;</strong>&#xFF0C;&#x5B9A;&#x4E49;&#x4E86;wait(), notify(), notifyAll()&#x7B49;&#x4F11;&#x7720;/&#x5524;&#x9192;&#x51FD;&#x6570;&#x3002;
<strong>Thread&#x7C7B;</strong>&#xFF0C;&#x7EBF;&#x7A0B;&#x64CD;&#x4F5C;&#x51FD;&#x6570;&#x3002;&#x4F8B;&#x5982;sleep()&#x4F11;&#x7720;&#x51FD;&#x6570;, interrupt()&#x4E2D;&#x65AD;&#x51FD;&#x6570;, getName()&#x83B7;&#x53D6;&#x7EBF;&#x7A0B;&#x540D;&#x79F0;&#x7B49;&#x3002;
<strong>synchronized</strong>&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x533A;&#x5206;&#x4E3A;synchronized&#x4EE3;&#x7801;&#x5757;&#x548C;synchronized&#x65B9;&#x6CD5;&#xFF0C;&#x8BA9;&#x7EBF;&#x7A0B;&#x83B7;&#x53D6;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x3002;</p>
<p><a href="https://images0.cnblogs.com/blog/497634/201312/18152411-a974ea82ebc04e72bd874c3921f8bfec.jpg" target="_blank"><img src="res/Java%20Thread/18152411-a974ea82ebc04e72bd874c3921f8bfec.jpg" alt="img"></a></p>
<h1 id="&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;"><a name="&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;" class="plugin-anchor" href="#&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;</h1>
<pre><code class="lang-java"><span class="hljs-number">1</span>. Runnable &#x662F;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x8BE5;&#x63A5;&#x53E3;&#x4E2D;&#x53EA;&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E2A;run()&#x65B9;&#x6CD5;&#x3002;
   Runnable&#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7C7B;A&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#xFF1B;&#x7136;&#x540E;&#xFF0C;&#x901A;&#x8FC7;<span class="hljs-keyword">new</span> Thread(<span class="hljs-keyword">new</span> A())&#x7B49;&#x65B9;&#x5F0F;&#x65B0;&#x5EFA;&#x7EBF;&#x7A0B;&#x3002;
<span class="hljs-number">2</span>. Thread &#x662F;&#x4E00;&#x4E2A;&#x7C7B;&#x3002;Thread&#x672C;&#x8EAB;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;Runnable&#x63A5;&#x53E3;&#x3002;Thread&#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;&#x3002;
</code></pre>
<p><strong>Thread&#x548C;Runnable&#x7684;&#x5F02;&#x540C;&#x70B9;</strong></p>
<pre><code class="lang-java">Thread &#x548C; Runnable &#x7684;&#x76F8;&#x540C;&#x70B9;&#xFF1A;&#x90FD;&#x662F;&#x201C;&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x201D;&#x3002;
Thread &#x548C; Runnable &#x7684;&#x4E0D;&#x540C;&#x70B9;&#xFF1A;
Thread &#x662F;&#x7C7B;&#xFF0C;&#x800C;Runnable&#x662F;&#x63A5;&#x53E3;&#xFF1B;Thread&#x672C;&#x8EAB;&#x662F;&#x5B9E;&#x73B0;&#x4E86;Runnable&#x63A5;&#x53E3;&#x7684;&#x7C7B;&#x3002;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x201C;&#x4E00;&#x4E2A;&#x7C7B;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x7236;&#x7C7B;&#xFF0C;&#x4F46;&#x662F;&#x5374;&#x80FD;&#x5B9E;&#x73B0;&#x591A;&#x4E2A;&#x63A5;&#x53E3;&#x201D;&#xFF0C;&#x56E0;&#x6B64;Runnable&#x5177;&#x6709;&#x66F4;&#x597D;&#x7684;&#x6269;&#x5C55;&#x6027;&#x3002;
&#x6B64;&#x5916;&#xFF0C;Runnable&#x8FD8;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x201C;&#x8D44;&#x6E90;&#x7684;&#x5171;&#x4EAB;&#x201D;&#x3002;&#x5373;&#xFF0C;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x90FD;&#x662F;&#x57FA;&#x4E8E;&#x67D0;&#x4E00;&#x4E2A;Runnable&#x5BF9;&#x8C61;&#x5EFA;&#x7ACB;&#x7684;&#xFF0C;&#x5B83;&#x4EEC;&#x4F1A;&#x5171;&#x4EAB;Runnable&#x5BF9;&#x8C61;&#x4E0A;&#x7684;&#x8D44;&#x6E90;&#x3002;<span class="hljs-comment">//&#x901A;&#x5E38;&#xFF0C;&#x5EFA;&#x8BAE;&#x901A;&#x8FC7;&#x201C;Runnable&#x201D;&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;&#xFF01;</span>
</code></pre>
<p><strong>Runnable&#x7684;&#x591A;&#x7EBF;&#x7A0B;&#x793A;&#x4F8B;</strong></p>
<pre><code class="lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyThread</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Runnable</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> ticket = <span class="hljs-number">10</span>;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">20</span>; i++) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.ticket &gt; <span class="hljs-number">0</span>) {
                System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; &#x5356;&#x7968;&#xFF1A;ticket&quot;</span> + <span class="hljs-keyword">this</span>.ticket--);
            }
        }
    }
};

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
        MyThread mt = <span class="hljs-keyword">new</span> MyThread();
        <span class="hljs-comment">// &#x542F;&#x52A8;3&#x4E2A;&#x7EBF;&#x7A0B;t1,t2,t3(&#x5B83;&#x4EEC;&#x5171;&#x7528;&#x4E00;&#x4E2A;Runnable&#x5BF9;&#x8C61;)&#xFF0C;&#x8FD9;3&#x4E2A;&#x7EBF;&#x7A0B;&#x4E00;&#x5171;&#x5356;10&#x5F20;&#x7968;&#xFF01;</span>
        Thread t1 = <span class="hljs-keyword">new</span> Thread(mt);
        Thread t2 = <span class="hljs-keyword">new</span> Thread(mt);
        Thread t3 = <span class="hljs-keyword">new</span> Thread(mt);
        t1.start();
        t2.start();
        t3.start();
    }
}

<span class="hljs-comment">//&#x7ED3;&#x679C;&#x8BF4;&#x660E;&#xFF1A;</span>
(<span class="hljs-number">01</span>) &#x548C;&#x4E0B;&#x9762;&#x201C;MyThread&#x7EE7;&#x627F;&#x4E8E;Thread&#x201D;&#x4E0D;&#x540C;&#xFF1B;&#x8FD9;&#x91CC;&#x7684;MyThread&#x5B9E;&#x73B0;&#x4E86;Thread&#x63A5;&#x53E3;&#x3002;
(<span class="hljs-number">02</span>) &#x4E3B;&#x7EBF;&#x7A0B;main&#x521B;&#x5EFA;&#x5E76;&#x542F;&#x52A8;<span class="hljs-number">3</span>&#x4E2A;&#x5B50;&#x7EBF;&#x7A0B;&#xFF0C;&#x800C;&#x4E14;&#x8FD9;<span class="hljs-number">3</span>&#x4E2A;&#x5B50;&#x7EBF;&#x7A0B;&#x90FD;&#x662F;&#x57FA;&#x4E8E;&#x201C;mt&#x8FD9;&#x4E2A;Runnable&#x5BF9;&#x8C61;&#x201D;&#x800C;&#x521B;&#x5EFA;&#x7684;&#x3002;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x662F;&#x8FD9;<span class="hljs-number">3</span>&#x4E2A;&#x5B50;&#x7EBF;&#x7A0B;&#x4E00;&#x5171;&#x5356;&#x51FA;&#x4E86;<span class="hljs-number">10</span>&#x5F20;&#x7968;&#x3002;&#x8FD9;&#x8BF4;&#x660E;&#x5B83;&#x4EEC;&#x662F;&#x5171;&#x4EAB;&#x4E86;MyThread&#x63A5;&#x53E3;&#x7684;&#x3002;

Thread-<span class="hljs-number">1</span> &#x5356;&#x7968;&#xFF1A;ticket10
Thread-<span class="hljs-number">2</span> &#x5356;&#x7968;&#xFF1A;ticket9
Thread-<span class="hljs-number">0</span> &#x5356;&#x7968;&#xFF1A;ticket9
Thread-<span class="hljs-number">2</span> &#x5356;&#x7968;&#xFF1A;ticket7
Thread-<span class="hljs-number">1</span> &#x5356;&#x7968;&#xFF1A;ticket8
Thread-<span class="hljs-number">2</span> &#x5356;&#x7968;&#xFF1A;ticket5
Thread-<span class="hljs-number">0</span> &#x5356;&#x7968;&#xFF1A;ticket6
Thread-<span class="hljs-number">2</span> &#x5356;&#x7968;&#xFF1A;ticket3
Thread-<span class="hljs-number">1</span> &#x5356;&#x7968;&#xFF1A;ticket4
Thread-<span class="hljs-number">2</span> &#x5356;&#x7968;&#xFF1A;ticket1
Thread-<span class="hljs-number">0</span> &#x5356;&#x7968;&#xFF1A;ticket2
</code></pre>
<p><strong>Thread&#x7684;&#x591A;&#x7EBF;&#x7A0B;&#x793A;&#x4F8B;</strong></p>
<pre><code class="lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span></span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> ticket=<span class="hljs-number">5</span>;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">20</span>;i++){
            <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.ticket&gt;<span class="hljs-number">0</span>){
                System.out.println(<span class="hljs-keyword">this</span>.getName()+<span class="hljs-string">&quot; &#x5356;&#x7968;&#xFF1A;ticket&quot;</span>+<span class="hljs-keyword">this</span>.ticket--);
            }
        }
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
        <span class="hljs-comment">// &#x542F;&#x52A8;3&#x4E2A;&#x7EBF;&#x7A0B;t1,t2,t3&#xFF1B;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x5404;&#x5356;10&#x5F20;&#x7968;&#xFF01;</span>
        MyThread t1=<span class="hljs-keyword">new</span> MyThread();
        MyThread t2=<span class="hljs-keyword">new</span> MyThread();
        MyThread t3=<span class="hljs-keyword">new</span> MyThread();
        t1.start();
        t2.start();
        t3.start();
    }
}

<span class="hljs-comment">//&#x7ED3;&#x679C;&#x8BF4;&#x660E;&#xFF1A;</span>
(<span class="hljs-number">01</span>) MyThread&#x7EE7;&#x627F;&#x4E8E;Thread&#xFF0C;&#x5B83;&#x662F;&#x81EA;&#x5B9A;&#x4E49;&#x4E2A;&#x7EBF;&#x7A0B;&#x3002;&#x6BCF;&#x4E2A;MyThread&#x90FD;&#x4F1A;&#x5356;&#x51FA;<span class="hljs-number">10</span>&#x5F20;&#x7968;&#x3002;
(<span class="hljs-number">02</span>) &#x4E3B;&#x7EBF;&#x7A0B;main&#x521B;&#x5EFA;&#x5E76;&#x542F;&#x52A8;<span class="hljs-number">3</span>&#x4E2A;MyThread&#x5B50;&#x7EBF;&#x7A0B;&#x3002;&#x6BCF;&#x4E2A;&#x5B50;&#x7EBF;&#x7A0B;&#x90FD;&#x5404;&#x81EA;&#x5356;&#x51FA;&#x4E86;<span class="hljs-number">10</span>&#x5F20;&#x7968;&#x3002;

Thread-<span class="hljs-number">0</span> &#x5356;&#x7968;&#xFF1A;ticket5
Thread-<span class="hljs-number">0</span> &#x5356;&#x7968;&#xFF1A;ticket4
Thread-<span class="hljs-number">0</span> &#x5356;&#x7968;&#xFF1A;ticket3
Thread-<span class="hljs-number">0</span> &#x5356;&#x7968;&#xFF1A;ticket2
Thread-<span class="hljs-number">0</span> &#x5356;&#x7968;&#xFF1A;ticket1
Thread-<span class="hljs-number">1</span> &#x5356;&#x7968;&#xFF1A;ticket5
Thread-<span class="hljs-number">1</span> &#x5356;&#x7968;&#xFF1A;ticket4
Thread-<span class="hljs-number">1</span> &#x5356;&#x7968;&#xFF1A;ticket3
Thread-<span class="hljs-number">1</span> &#x5356;&#x7968;&#xFF1A;ticket2
Thread-<span class="hljs-number">1</span> &#x5356;&#x7968;&#xFF1A;ticket1
Thread-<span class="hljs-number">2</span> &#x5356;&#x7968;&#xFF1A;ticket5
Thread-<span class="hljs-number">2</span> &#x5356;&#x7968;&#xFF1A;ticket4
Thread-<span class="hljs-number">2</span> &#x5356;&#x7968;&#xFF1A;ticket3
Thread-<span class="hljs-number">2</span> &#x5356;&#x7968;&#xFF1A;ticket2
Thread-<span class="hljs-number">2</span> &#x5356;&#x7968;&#xFF1A;ticket1
</code></pre>
<p><strong>Thread&#x4E2D;start()&#x548C;run()&#x7684;&#x533A;&#x522B; </strong></p>
<pre><code class="lang-java">start(): &#x5B83;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x65B0;&#x7EBF;&#x7A0B;&#xFF0C;&#x65B0;&#x7EBF;&#x7A0B;&#x4F1A;&#x6267;&#x884C;&#x76F8;&#x5E94;&#x7684;run()&#x65B9;&#x6CD5;&#x3002;start()&#x4E0D;&#x80FD;&#x88AB;&#x91CD;&#x590D;&#x8C03;&#x7528;&#x3002;
run(): run()&#x5C31;&#x548C;&#x666E;&#x901A;&#x7684;&#x6210;&#x5458;&#x65B9;&#x6CD5;&#x4E00;&#x6837;&#xFF0C;&#x53EF;&#x4EE5;&#x88AB;&#x91CD;&#x590D;&#x8C03;&#x7528;&#x3002;&#x5355;&#x72EC;&#x8C03;&#x7528;run()&#x7684;&#x8BDD;&#xFF0C;&#x4F1A;&#x5728;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x4E2D;&#x6267;&#x884C;run()&#xFF0C;&#x800C;&#x5E76;&#x4E0D;&#x4F1A;&#x542F;&#x52A8;&#x65B0;&#x7EBF;&#x7A0B;&#xFF01;
</code></pre>
<h1 id="synchronized&#x5173;&#x952E;&#x5B57;"><a name="synchronized&#x5173;&#x952E;&#x5B57;" class="anchor-navigation-ex-anchor" href="#synchronized&#x5173;&#x952E;&#x5B57;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="synchronized&#x5173;&#x952E;&#x5B57;" class="plugin-anchor" href="#synchronized&#x5173;&#x952E;&#x5B57;"><i class="fa fa-link" aria-hidden="true"></i></a>synchronized&#x5173;&#x952E;&#x5B57;</h1>
<p><strong>synchronized&#x539F;&#x7406;</strong></p>
<pre><code class="lang-java">&#x5728;java&#x4E2D;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x6709;&#x4E14;&#x4EC5;&#x6709;&#x4E00;&#x4E2A;&#x540C;&#x6B65;&#x9501;&#x3002;&#x8FD9;&#x4E5F;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x540C;&#x6B65;&#x9501;&#x662F;&#x4F9D;&#x8D56;&#x4E8E;&#x5BF9;&#x8C61;&#x800C;&#x5B58;&#x5728;&#x3002;
&#x5F53;&#x6211;&#x4EEC;&#x8C03;&#x7528;&#x67D0;&#x5BF9;&#x8C61;&#x7684;<span class="hljs-keyword">synchronized</span>&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x5C31;&#x83B7;&#x53D6;&#x4E86;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x3002;&#x4F8B;&#x5982;&#xFF0C;<span class="hljs-keyword">synchronized</span>(obj)&#x5C31;&#x83B7;&#x53D6;&#x4E86;&#x201C;obj&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x201D;&#x7684;&#x540C;&#x6B65;&#x9501;&#x3002;
&#x4E0D;&#x540C;&#x7EBF;&#x7A0B;&#x5BF9;&#x540C;&#x6B65;&#x9501;&#x7684;&#x8BBF;&#x95EE;&#x662F;&#x4E92;&#x65A5;&#x7684;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x67D0;&#x65F6;&#x95F4;&#x70B9;&#xFF0C;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x53EA;&#x80FD;&#x88AB;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x83B7;&#x53D6;&#x5230;&#xFF01;&#x901A;&#x8FC7;&#x540C;&#x6B65;&#x9501;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x80FD;&#x5728;&#x591A;&#x7EBF;&#x7A0B;&#x4E2D;&#xFF0C;&#x5B9E;&#x73B0;&#x5BF9;&#x201C;&#x5BF9;&#x8C61;/&#x65B9;&#x6CD5;&#x201D;&#x7684;&#x4E92;&#x65A5;&#x8BBF;&#x95EE;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x73B0;&#x5728;&#x6709;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;A&#x548C;&#x7EBF;&#x7A0B;B&#xFF0C;&#x5B83;&#x4EEC;&#x90FD;&#x4F1A;&#x8BBF;&#x95EE;&#x201C;&#x5BF9;&#x8C61;obj&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#x3002;&#x5047;&#x8BBE;&#xFF0C;&#x5728;&#x67D0;&#x4E00;&#x65F6;&#x523B;&#xFF0C;&#x7EBF;&#x7A0B;A&#x83B7;&#x53D6;&#x5230;&#x201C;obj&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#x5E76;&#x5728;&#x6267;&#x884C;&#x4E00;&#x4E9B;&#x64CD;&#x4F5C;&#xFF1B;&#x800C;&#x6B64;&#x65F6;&#xFF0C;&#x7EBF;&#x7A0B;B&#x4E5F;&#x4F01;&#x56FE;&#x83B7;&#x53D6;&#x201C;obj&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D; &#x2014;&#x2014; &#x7EBF;&#x7A0B;B&#x4F1A;&#x83B7;&#x53D6;&#x5931;&#x8D25;&#xFF0C;&#x5B83;&#x5FC5;&#x987B;&#x7B49;&#x5F85;&#xFF0C;&#x76F4;&#x5230;&#x7EBF;&#x7A0B;A&#x91CA;&#x653E;&#x4E86;&#x201C;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#x4E4B;&#x540E;&#x7EBF;&#x7A0B;B&#x624D;&#x80FD;&#x83B7;&#x53D6;&#x5230;&#x201C;obj&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#x4ECE;&#x800C;&#x624D;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x3002;
</code></pre>
<p><strong>synchronized&#x57FA;&#x672C;&#x89C4;&#x5219;</strong></p>
<pre><code class="lang-java">&#x7B2C;&#x4E00;&#x6761;: &#x5F53;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x8BBF;&#x95EE;&#x201C;&#x67D0;&#x5BF9;&#x8C61;&#x201D;&#x7684;&#x201C;<span class="hljs-keyword">synchronized</span>&#x65B9;&#x6CD5;&#x201D;&#x6216;&#x8005;&#x201C;<span class="hljs-keyword">synchronized</span>&#x4EE3;&#x7801;&#x5757;&#x201D;&#x65F6;&#xFF0C;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x5BF9;&#x201C;&#x8BE5;&#x5BF9;&#x8C61;&#x201D;&#x7684;&#x8BE5;&#x201C;<span class="hljs-keyword">synchronized</span>&#x65B9;&#x6CD5;&#x201D;&#x6216;&#x8005;&#x201C;<span class="hljs-keyword">synchronized</span>&#x4EE3;&#x7801;&#x5757;&#x201D;&#x7684;&#x8BBF;&#x95EE;&#x5C06;&#x88AB;&#x963B;&#x585E;&#x3002;
&#x7B2C;&#x4E8C;&#x6761;: &#x5F53;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x8BBF;&#x95EE;&#x201C;&#x67D0;&#x5BF9;&#x8C61;&#x201D;&#x7684;&#x201C;<span class="hljs-keyword">synchronized</span>&#x65B9;&#x6CD5;&#x201D;&#x6216;&#x8005;&#x201C;<span class="hljs-keyword">synchronized</span>&#x4EE3;&#x7801;&#x5757;&#x201D;&#x65F6;&#xFF0C;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x201C;&#x8BE5;&#x5BF9;&#x8C61;&#x201D;&#x7684;&#x975E;&#x540C;&#x6B65;&#x4EE3;&#x7801;&#x5757;&#x3002;
&#x7B2C;&#x4E09;&#x6761;: &#x5F53;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x8BBF;&#x95EE;&#x201C;&#x67D0;&#x5BF9;&#x8C61;&#x201D;&#x7684;&#x201C;<span class="hljs-keyword">synchronized</span>&#x65B9;&#x6CD5;&#x201D;&#x6216;&#x8005;&#x201C;<span class="hljs-keyword">synchronized</span>&#x4EE3;&#x7801;&#x5757;&#x201D;&#x65F6;&#xFF0C;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x5BF9;&#x201C;&#x8BE5;&#x5BF9;&#x8C61;&#x201D;&#x7684;&#x5176;&#x4ED6;&#x7684;&#x201C;<span class="hljs-keyword">synchronized</span>&#x65B9;&#x6CD5;&#x201D;&#x6216;&#x8005;&#x201C;<span class="hljs-keyword">synchronized</span>&#x4EE3;&#x7801;&#x5757;&#x201D;&#x7684;&#x8BBF;&#x95EE;&#x5C06;&#x88AB;&#x963B;&#x585E;&#x3002;
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">// &#x7B2C;&#x4E00;&#x6761;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyRunable</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Runnable</span> </span>{
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">synchronized</span>(<span class="hljs-keyword">this</span>) {
            <span class="hljs-keyword">try</span> {  
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                    Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                    System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; loop &quot;</span> + i);  
                }
            } <span class="hljs-keyword">catch</span> (InterruptedException ie) {  
            }
        }  
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo1_1</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{  
        Runnable demo = <span class="hljs-keyword">new</span> MyRunable();     <span class="hljs-comment">// &#x65B0;&#x5EFA;&#x201C;Runnable&#x5BF9;&#x8C61;&#x201D;</span>
        Thread t1 = <span class="hljs-keyword">new</span> Thread(demo, <span class="hljs-string">&quot;t1&quot;</span>);  <span class="hljs-comment">// &#x65B0;&#x5EFA;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;, t1&#x662F;&#x57FA;&#x4E8E;demo&#x8FD9;&#x4E2A;Runnable&#x5BF9;&#x8C61;</span>
        Thread t2 = <span class="hljs-keyword">new</span> Thread(demo, <span class="hljs-string">&quot;t2&quot;</span>);  <span class="hljs-comment">// &#x65B0;&#x5EFA;&#x201C;&#x7EBF;&#x7A0B;t2&#x201D;, t2&#x662F;&#x57FA;&#x4E8E;demo&#x8FD9;&#x4E2A;Runnable&#x5BF9;&#x8C61;</span>
        t1.start();                          <span class="hljs-comment">// &#x542F;&#x52A8;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;</span>
        t2.start();                          <span class="hljs-comment">// &#x542F;&#x52A8;&#x201C;&#x7EBF;&#x7A0B;t2&#x201D; </span>
    } 
}

<span class="hljs-comment">// &#x7ED3;&#x679C;&#x8BF4;&#x660E;&#xFF1A;</span>
run()&#x65B9;&#x6CD5;&#x4E2D;&#x5B58;&#x5728;&#x201C;<span class="hljs-keyword">synchronized</span>(<span class="hljs-keyword">this</span>)&#x4EE3;&#x7801;&#x5757;&#x201D;&#xFF0C;&#x800C;&#x4E14;t1&#x548C;t2&#x90FD;&#x662F;&#x57FA;&#x4E8E;<span class="hljs-string">&quot;demo&#x8FD9;&#x4E2A;Runnable&#x5BF9;&#x8C61;&quot;</span>&#x521B;&#x5EFA;&#x7684;&#x7EBF;&#x7A0B;&#x3002;&#x8FD9;&#x5C31;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;<span class="hljs-keyword">synchronized</span>(<span class="hljs-keyword">this</span>)&#x4E2D;&#x7684;<span class="hljs-keyword">this</span>&#x770B;&#x4F5C;&#x662F;&#x201C;demo&#x8FD9;&#x4E2A;Runnable&#x5BF9;&#x8C61;&#x201D;&#xFF1B;&#x56E0;&#x6B64;&#xFF0C;&#x7EBF;&#x7A0B;t1&#x548C;t2&#x5171;&#x4EAB;&#x201C;demo&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x5F53;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x8FD0;&#x884C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x5FC5;&#x987B;&#x7B49;&#x5F85;&#x201C;&#x8FD0;&#x884C;&#x7EBF;&#x7A0B;&#x201D;&#x91CA;&#x653E;&#x201C;demo&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#x4E4B;&#x540E;&#x624D;&#x80FD;&#x8FD0;&#x884C;&#x3002;

t1 loop <span class="hljs-number">0</span>
t1 loop <span class="hljs-number">1</span>
t1 loop <span class="hljs-number">2</span>
t1 loop <span class="hljs-number">3</span>
t1 loop <span class="hljs-number">4</span>
t2 loop <span class="hljs-number">0</span>
t2 loop <span class="hljs-number">1</span>
t2 loop <span class="hljs-number">2</span>
t2 loop <span class="hljs-number">3</span>
t2 loop <span class="hljs-number">4</span>
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">// &#x7B2C;&#x4E00;&#x6761;_&#x7EED;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyThread</span><span class="hljs-params">(String name)</span> </span>{
        <span class="hljs-keyword">super</span>(name);
    }
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">synchronized</span>(<span class="hljs-keyword">this</span>) {
            <span class="hljs-keyword">try</span> {  
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                    Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                    System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; loop &quot;</span> + i);  
                }
            } <span class="hljs-keyword">catch</span> (InterruptedException ie) {  
            }
        }  
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo1_2</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{  
        Thread t1 = <span class="hljs-keyword">new</span> MyThread(<span class="hljs-string">&quot;t1&quot;</span>);  <span class="hljs-comment">// &#x65B0;&#x5EFA;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;</span>
        Thread t2 = <span class="hljs-keyword">new</span> MyThread(<span class="hljs-string">&quot;t2&quot;</span>);  <span class="hljs-comment">// &#x65B0;&#x5EFA;&#x201C;&#x7EBF;&#x7A0B;t2&#x201D;</span>
        t1.start();                      <span class="hljs-comment">// &#x542F;&#x52A8;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;</span>
        t2.start();                      <span class="hljs-comment">// &#x542F;&#x52A8;&#x201C;&#x7EBF;&#x7A0B;t2&#x201D; </span>
    } 
}

<span class="hljs-comment">// &#x4EE3;&#x7801;&#x8BF4;&#x660E;&#xFF1A;</span>
&#x6BD4;&#x8F83;Demo1_2 &#x548C; Demo1_1&#xFF0C;&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#xFF0C;Demo1_2&#x4E2D;&#x7684;MyThread&#x7C7B;&#x662F;&#x76F4;&#x63A5;&#x7EE7;&#x627F;&#x4E8E;Thread&#xFF0C;&#x800C;&#x4E14;t1&#x548C;t2&#x90FD;&#x662F;MyThread&#x5B50;&#x7EBF;&#x7A0B;&#x3002;
&#x5E78;&#x8FD0;&#x7684;&#x662F;&#xFF0C;&#x5728;&#x201C;Demo1_2&#x7684;run()&#x65B9;&#x6CD5;&#x201D;&#x4E5F;&#x8C03;&#x7528;&#x4E86;<span class="hljs-keyword">synchronized</span>(<span class="hljs-keyword">this</span>)&#xFF0C;&#x6B63;&#x5982;&#x201C;Demo1_1&#x7684;run()&#x65B9;&#x6CD5;&#x201D;&#x4E5F;&#x8C03;&#x7528;&#x4E86;<span class="hljs-keyword">synchronized</span>(<span class="hljs-keyword">this</span>)&#x4E00;&#x6837;&#xFF01;

<span class="hljs-comment">// &#x7ED3;&#x679C;&#x8BF4;&#x660E;&#xFF1A;</span>
&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x7ED3;&#x679C;&#x4E00;&#x70B9;&#x4E5F;&#x4E0D;&#x4EE4;&#x4F60;&#x611F;&#x5230;&#x60CA;&#x8BB6;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x76F8;&#x4FE1;&#x4F60;&#x5BF9;<span class="hljs-keyword">synchronized</span>&#x548C;<span class="hljs-keyword">this</span>&#x7684;&#x8BA4;&#x8BC6;&#x5DF2;&#x7ECF;&#x6BD4;&#x8F83;&#x6DF1;&#x523B;&#x4E86;&#x3002;&#x5426;&#x5219;&#x7684;&#x8BDD;&#xFF0C;&#x8BF7;&#x7EE7;&#x7EED;&#x9605;&#x8BFB;&#x8FD9;&#x91CC;&#x7684;&#x5206;&#x6790;&#x3002;
<span class="hljs-keyword">synchronized</span>(<span class="hljs-keyword">this</span>)&#x4E2D;&#x7684;<span class="hljs-keyword">this</span>&#x662F;&#x6307;&#x201C;&#x5F53;&#x524D;&#x7684;&#x7C7B;&#x5BF9;&#x8C61;&#x201D;&#xFF0C;&#x5373;<span class="hljs-keyword">synchronized</span>(<span class="hljs-keyword">this</span>)&#x6240;&#x5728;&#x7684;&#x7C7B;&#x5BF9;&#x5E94;&#x7684;&#x5F53;&#x524D;&#x5BF9;&#x8C61;&#x3002;&#x5B83;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x83B7;&#x53D6;&#x201C;&#x5F53;&#x524D;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#x3002;
&#x5BF9;&#x4E8E;Demo1_2&#x4E2D;&#xFF0C;<span class="hljs-keyword">synchronized</span>(<span class="hljs-keyword">this</span>)&#x4E2D;&#x7684;<span class="hljs-keyword">this</span>&#x4EE3;&#x8868;&#x7684;&#x662F;MyThread&#x5BF9;&#x8C61;&#xFF0C;&#x800C;t1&#x548C;t2&#x662F;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;MyThread&#x5BF9;&#x8C61;&#xFF0C;&#x56E0;&#x6B64;t1&#x548C;t2&#x5728;&#x6267;&#x884C;<span class="hljs-keyword">synchronized</span>(<span class="hljs-keyword">this</span>)&#x65F6;&#xFF0C;&#x83B7;&#x53D6;&#x7684;&#x662F;&#x4E0D;&#x540C;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x3002;&#x5BF9;&#x4E8E;Demo1_1&#x5BF9;&#x800C;&#x8A00;&#xFF0C;<span class="hljs-keyword">synchronized</span>(<span class="hljs-keyword">this</span>)&#x4E2D;&#x7684;<span class="hljs-keyword">this</span>&#x4EE3;&#x8868;&#x7684;&#x662F;MyRunable&#x5BF9;&#x8C61;&#xFF1B;t1&#x548C;t2&#x5171;&#x540C;&#x4E00;&#x4E2A;MyRunable&#x5BF9;&#x8C61;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x83B7;&#x53D6;&#x4E86;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#xFF0C;&#x4F1A;&#x9020;&#x6210;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#x3002;

t1 loop <span class="hljs-number">0</span>
t2 loop <span class="hljs-number">0</span>
t1 loop <span class="hljs-number">1</span>
t2 loop <span class="hljs-number">1</span>
t1 loop <span class="hljs-number">2</span>
t2 loop <span class="hljs-number">2</span>
t1 loop <span class="hljs-number">3</span>
t2 loop <span class="hljs-number">3</span>
t1 loop <span class="hljs-number">4</span>
t2 loop <span class="hljs-number">4</span>
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">// &#x7B2C;&#x4E8C;&#x6761;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Count</span> </span>{
    <span class="hljs-comment">// &#x542B;&#x6709;synchronized&#x540C;&#x6B65;&#x5757;&#x7684;&#x65B9;&#x6CD5;</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">synMethod</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">synchronized</span>(<span class="hljs-keyword">this</span>) {
            <span class="hljs-keyword">try</span> {  
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                    Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                    System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; synMethod loop &quot;</span> + i);  
                }
            } <span class="hljs-keyword">catch</span> (InterruptedException ie) {  
            }
        }  
    }
    <span class="hljs-comment">// &#x975E;&#x540C;&#x6B65;&#x7684;&#x65B9;&#x6CD5;</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">nonSynMethod</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                Thread.sleep(<span class="hljs-number">100</span>);
                System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; nonSynMethod loop &quot;</span> + i);  
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException ie) {  
        }
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo2</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{  
        <span class="hljs-keyword">final</span> Count count = <span class="hljs-keyword">new</span> Count();
        <span class="hljs-comment">// &#x65B0;&#x5EFA;t1, t1&#x4F1A;&#x8C03;&#x7528;&#x201C;count&#x5BF9;&#x8C61;&#x201D;&#x7684;synMethod()&#x65B9;&#x6CD5;</span>
        Thread t1 = <span class="hljs-keyword">new</span> Thread(
                <span class="hljs-keyword">new</span> Runnable() {
                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
                        count.synMethod();
                    }
                }, <span class="hljs-string">&quot;t1&quot;</span>);
        <span class="hljs-comment">// &#x65B0;&#x5EFA;t2, t2&#x4F1A;&#x8C03;&#x7528;&#x201C;count&#x5BF9;&#x8C61;&#x201D;&#x7684;nonSynMethod()&#x65B9;&#x6CD5;</span>
        Thread t2 = <span class="hljs-keyword">new</span> Thread(
                <span class="hljs-keyword">new</span> Runnable() {
                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
                        count.nonSynMethod();
                    }
                }, <span class="hljs-string">&quot;t2&quot;</span>);  
        t1.start();  <span class="hljs-comment">// &#x542F;&#x52A8;t1</span>
        t2.start();  <span class="hljs-comment">// &#x542F;&#x52A8;t2</span>
    } 
}

<span class="hljs-comment">// &#x7ED3;&#x679C;&#x8BF4;&#x660E;&#xFF1A;</span>
&#x4E3B;&#x7EBF;&#x7A0B;&#x4E2D;&#x65B0;&#x5EFA;&#x4E86;&#x4E24;&#x4E2A;&#x5B50;&#x7EBF;&#x7A0B;t1&#x548C;t2&#x3002;t1&#x4F1A;&#x8C03;&#x7528;count&#x5BF9;&#x8C61;&#x7684;synMethod()&#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x5185;&#x542B;&#x6709;&#x540C;&#x6B65;&#x5757;&#xFF1B;&#x800C;t2&#x5219;&#x4F1A;&#x8C03;&#x7528;count&#x5BF9;&#x8C61;&#x7684;nonSynMethod()&#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x4E0D;&#x662F;&#x540C;&#x6B65;&#x65B9;&#x6CD5;&#x3002;t1&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x867D;&#x7136;&#x8C03;&#x7528;<span class="hljs-keyword">synchronized</span>(<span class="hljs-keyword">this</span>)&#x83B7;&#x53D6;&#x201C;count&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#xFF1B;&#x4F46;&#x662F;&#x5E76;&#x6CA1;&#x6709;&#x9020;&#x6210;t2&#x7684;&#x963B;&#x585E;&#xFF0C;&#x56E0;&#x4E3A;t2&#x6CA1;&#x6709;&#x7528;&#x5230;&#x201C;count&#x201D;&#x540C;&#x6B65;&#x9501;&#x3002;

t1 synMethod loop <span class="hljs-number">0</span>
t2 nonSynMethod loop <span class="hljs-number">0</span>
t1 synMethod loop <span class="hljs-number">1</span>
t2 nonSynMethod loop <span class="hljs-number">1</span>
t1 synMethod loop <span class="hljs-number">2</span>
t2 nonSynMethod loop <span class="hljs-number">2</span>
t1 synMethod loop <span class="hljs-number">3</span>
t2 nonSynMethod loop <span class="hljs-number">3</span>
t1 synMethod loop <span class="hljs-number">4</span>
t2 nonSynMethod loop <span class="hljs-number">4</span>
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">// &#x7B2C;&#x4E09;&#x6761;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Count</span> </span>{
    <span class="hljs-comment">// &#x542B;&#x6709;synchronized&#x540C;&#x6B65;&#x5757;&#x7684;&#x65B9;&#x6CD5;</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">synMethod</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">synchronized</span>(<span class="hljs-keyword">this</span>) {
            <span class="hljs-keyword">try</span> {  
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                    Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                    System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; synMethod loop &quot;</span> + i);  
                }
            } <span class="hljs-keyword">catch</span> (InterruptedException ie) {  
            }
        }  
    }
    <span class="hljs-comment">// &#x4E5F;&#x5305;&#x542B;synchronized&#x540C;&#x6B65;&#x5757;&#x7684;&#x65B9;&#x6CD5;</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">nonSynMethod</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">synchronized</span>(<span class="hljs-keyword">this</span>) {
            <span class="hljs-keyword">try</span> {  
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                    Thread.sleep(<span class="hljs-number">100</span>);
                    System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; nonSynMethod loop &quot;</span> + i);  
                }
            } <span class="hljs-keyword">catch</span> (InterruptedException ie) {  
            }
        }
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo3</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{  
        <span class="hljs-keyword">final</span> Count count = <span class="hljs-keyword">new</span> Count();
        <span class="hljs-comment">// &#x65B0;&#x5EFA;t1, t1&#x4F1A;&#x8C03;&#x7528;&#x201C;count&#x5BF9;&#x8C61;&#x201D;&#x7684;synMethod()&#x65B9;&#x6CD5;</span>
        Thread t1 = <span class="hljs-keyword">new</span> Thread(
                <span class="hljs-keyword">new</span> Runnable() {
                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
                        count.synMethod();
                    }
                }, <span class="hljs-string">&quot;t1&quot;</span>);
        <span class="hljs-comment">// &#x65B0;&#x5EFA;t2, t2&#x4F1A;&#x8C03;&#x7528;&#x201C;count&#x5BF9;&#x8C61;&#x201D;&#x7684;nonSynMethod()&#x65B9;&#x6CD5;</span>
        Thread t2 = <span class="hljs-keyword">new</span> Thread(
                <span class="hljs-keyword">new</span> Runnable() {
                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
                        count.nonSynMethod();
                    }
                }, <span class="hljs-string">&quot;t2&quot;</span>);  
        t1.start();  <span class="hljs-comment">// &#x542F;&#x52A8;t1</span>
        t2.start();  <span class="hljs-comment">// &#x542F;&#x52A8;t2</span>
    } 
}

<span class="hljs-comment">// &#x7ED3;&#x679C;&#x8BF4;&#x660E;&#xFF1A;</span>
&#x4E3B;&#x7EBF;&#x7A0B;&#x4E2D;&#x65B0;&#x5EFA;&#x4E86;&#x4E24;&#x4E2A;&#x5B50;&#x7EBF;&#x7A0B;t1&#x548C;t2&#x3002;t1&#x548C;t2&#x8FD0;&#x884C;&#x65F6;&#x90FD;&#x8C03;&#x7528;<span class="hljs-keyword">synchronized</span>(<span class="hljs-keyword">this</span>)&#xFF0C;&#x8FD9;&#x4E2A;<span class="hljs-keyword">this</span>&#x662F;Count&#x5BF9;&#x8C61;(count)&#xFF0C;&#x800C;t1&#x548C;t2&#x5171;&#x7528;count&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5728;t1&#x8FD0;&#x884C;&#x65F6;&#xFF0C;t2&#x4F1A;&#x88AB;&#x963B;&#x585E;&#xFF0C;&#x7B49;&#x5F85;t1&#x8FD0;&#x884C;&#x91CA;&#x653E;&#x201C;count&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#xFF0C;t2&#x624D;&#x80FD;&#x8FD0;&#x884C;&#x3002;

t1 synMethod loop <span class="hljs-number">0</span>
t1 synMethod loop <span class="hljs-number">1</span>
t1 synMethod loop <span class="hljs-number">2</span>
t1 synMethod loop <span class="hljs-number">3</span>
t1 synMethod loop <span class="hljs-number">4</span>
t2 nonSynMethod loop <span class="hljs-number">0</span>
t2 nonSynMethod loop <span class="hljs-number">1</span>
t2 nonSynMethod loop <span class="hljs-number">2</span>
t2 nonSynMethod loop <span class="hljs-number">3</span>
t2 nonSynMethod loop <span class="hljs-number">4</span>
</code></pre>
<p><strong>synchronized&#x65B9;&#x6CD5; &#x548C; synchronized&#x4EE3;&#x7801;&#x5757;</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">// synchronized&#x65B9;&#x6CD5;&#x793A;&#x4F8B;</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">foo1</span><span class="hljs-params">()</span> </span>{
    System.out.println(<span class="hljs-string">&quot;synchronized methoed&quot;</span>);
}
<span class="hljs-comment">// synchronized&#x4EE3;&#x7801;&#x5757;</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">foo2</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">synchronized</span> (<span class="hljs-keyword">this</span>) {
        System.out.println(<span class="hljs-string">&quot;synchronized methoed&quot;</span>);
    }
}
<span class="hljs-comment">// synchronized&#x4EE3;&#x7801;&#x5757;&#x4E2D;&#x7684;this&#x662F;&#x6307;&#x5F53;&#x524D;&#x5BF9;&#x8C61;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;this&#x66FF;&#x6362;&#x6210;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#xFF0C;&#x4F8B;&#x5982;&#x5C06;this&#x66FF;&#x6362;&#x6210;obj&#xFF0C;&#x5219;foo2()&#x5728;&#x6267;&#x884C;synchronized(obj)&#x65F6;&#x5C31;&#x83B7;&#x53D6;&#x7684;&#x662F;obj&#x7684;&#x540C;&#x6B65;&#x9501;&#x3002;</span>
<span class="hljs-comment">// synchronized&#x4EE3;&#x7801;&#x5757;&#x53EF;&#x4EE5;&#x66F4;&#x7CBE;&#x786E;&#x7684;&#x63A7;&#x5236;&#x51B2;&#x7A81;&#x9650;&#x5236;&#x8BBF;&#x95EE;&#x533A;&#x57DF;&#xFF0C;&#x6709;&#x65F6;&#x5019;&#x8868;&#x73B0;&#x66F4;&#x9AD8;&#x6548;&#x7387;&#x3002;</span>
</code></pre>
<p><strong>&#x5B9E;&#x4F8B;&#x9501;&#x548C;&#x5168;&#x5C40;&#x9501;</strong></p>
<pre><code class="lang-java">&#x5B9E;&#x4F8B;&#x9501; -- &#x9501;&#x5728;&#x67D0;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x4E0A;&#x3002;&#x5982;&#x679C;&#x8BE5;&#x7C7B;&#x662F;&#x5355;&#x4F8B;&#xFF0C;&#x90A3;&#x4E48;&#x8BE5;&#x9501;&#x4E5F;&#x5177;&#x6709;&#x5168;&#x5C40;&#x9501;&#x7684;&#x6982;&#x5FF5;&#x3002;
<span class="hljs-comment">// &#x5B9E;&#x4F8B;&#x9501;&#x5BF9;&#x5E94;&#x7684;&#x5C31;&#x662F;synchronized&#x5173;&#x952E;&#x5B57;&#x3002;</span>
&#x5168;&#x5C40;&#x9501; -- &#x8BE5;&#x9501;&#x9488;&#x5BF9;&#x7684;&#x662F;&#x7C7B;&#xFF0C;&#x65E0;&#x8BBA;&#x5B9E;&#x4F8B;&#x591A;&#x5C11;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x90A3;&#x4E48;&#x7EBF;&#x7A0B;&#x90FD;&#x5171;&#x4EAB;&#x8BE5;&#x9501;&#x3002;
<span class="hljs-comment">// &#x5168;&#x5C40;&#x9501;&#x5BF9;&#x5E94;&#x7684;&#x5C31;&#x662F;static synchronized&#xFF08;&#x6216;&#x8005;&#x662F;&#x9501;&#x5728;&#x8BE5;&#x7C7B;&#x7684;class&#x6216;&#x8005;classloader&#x5BF9;&#x8C61;&#x4E0A;&#xFF09;&#x3002;</span>

pulbic <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Something</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">isSyncA</span><span class="hljs-params">()</span></span>{}
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">isSyncB</span><span class="hljs-params">()</span></span>{}
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">cSyncA</span><span class="hljs-params">()</span></span>{}
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">cSyncB</span><span class="hljs-params">()</span></span>{}
}

&#x5047;&#x8BBE;&#xFF0C;Something&#x6709;&#x4E24;&#x4E2A;&#x5B9E;&#x4F8B;x&#x548C;y&#x3002;&#x5206;&#x6790;&#x4E0B;&#x9762;<span class="hljs-number">4</span>&#x7EC4;&#x8868;&#x8FBE;&#x5F0F;&#x83B7;&#x53D6;&#x7684;&#x9501;&#x7684;&#x60C5;&#x51B5;&#x3002;
(<span class="hljs-number">01</span>) (&#x4E0D;&#x80FD;&#x88AB;&#x540C;&#x65F6;&#x8BBF;&#x95EE;)x.isSyncA()&#x4E0E;x.isSyncB() 
(<span class="hljs-number">02</span>) (&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x88AB;&#x8BBF;&#x95EE;)x.isSyncA()&#x4E0E;y.isSyncA()
(<span class="hljs-number">03</span>) (&#x4E0D;&#x80FD;&#x88AB;&#x540C;&#x65F6;&#x8BBF;&#x95EE;)x.cSyncA()&#x4E0E;y.cSyncB()
(<span class="hljs-number">04</span>) (&#x53EF;&#x4EE5;&#x88AB;&#x540C;&#x65F6;&#x8BBF;&#x95EE;)x.isSyncA()&#x4E0E;Something.cSyncA()
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">// (01) &#x4E0D;&#x80FD;&#x88AB;&#x540C;&#x65F6;&#x8BBF;&#x95EE;&#x3002;&#x56E0;&#x4E3A;isSyncA()&#x548C;isSyncB()&#x90FD;&#x662F;&#x8BBF;&#x95EE;&#x540C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;(&#x5BF9;&#x8C61;x)&#x7684;&#x540C;&#x6B65;&#x9501;&#xFF01;</span>
<span class="hljs-comment">// LockTest1.java&#x7684;&#x6E90;&#x7801;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Something</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">isSyncA</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; : isSyncA&quot;</span>);
            }
        }<span class="hljs-keyword">catch</span> (InterruptedException ie) {  
        }  
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">isSyncB</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; : isSyncB&quot;</span>);
            }
        }<span class="hljs-keyword">catch</span> (InterruptedException ie) {  
        }  
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LockTest1</span> </span>{
    Something x = <span class="hljs-keyword">new</span> Something();
    Something y = <span class="hljs-keyword">new</span> Something();
    <span class="hljs-comment">// &#x6BD4;&#x8F83;(01) x.isSyncA()&#x4E0E;x.isSyncB() </span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test1</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// &#x65B0;&#x5EFA;t11, t11&#x4F1A;&#x8C03;&#x7528; x.isSyncA()</span>
        Thread t11 = <span class="hljs-keyword">new</span> Thread(
                <span class="hljs-keyword">new</span> Runnable() {
                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
                        x.isSyncA();
                    }
                }, <span class="hljs-string">&quot;t11&quot;</span>);
        <span class="hljs-comment">// &#x65B0;&#x5EFA;t12, t12&#x4F1A;&#x8C03;&#x7528; x.isSyncB()</span>
        Thread t12 = <span class="hljs-keyword">new</span> Thread(
                <span class="hljs-keyword">new</span> Runnable() {
                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
                        x.isSyncB();
                    }
                }, <span class="hljs-string">&quot;t12&quot;</span>);  
        t11.start();  <span class="hljs-comment">// &#x542F;&#x52A8;t11</span>
        t12.start();  <span class="hljs-comment">// &#x542F;&#x52A8;t12</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
        LockTest1 demo = <span class="hljs-keyword">new</span> LockTest1();
        demo.test1();
    }
}

t11 : isSyncA
t11 : isSyncA
t11 : isSyncA
t11 : isSyncA
t11 : isSyncA
t12 : isSyncB
t12 : isSyncB
t12 : isSyncB
t12 : isSyncB
t12 : isSyncB
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">// (02) &#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x88AB;&#x8BBF;&#x95EE;&#x3002;&#x56E0;&#x4E3A;&#x8BBF;&#x95EE;&#x7684;&#x4E0D;&#x662F;&#x540C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#xFF0C;x.isSyncA()&#x8BBF;&#x95EE;&#x7684;&#x662F;x&#x7684;&#x540C;&#x6B65;&#x9501;&#xFF0C;&#x800C;y.isSyncA()&#x8BBF;&#x95EE;&#x7684;&#x662F;y&#x7684;&#x540C;&#x6B65;&#x9501;&#x3002;</span>

<span class="hljs-comment">// LockTest2.java&#x7684;&#x6E90;&#x7801;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Something</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">isSyncA</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; : isSyncA&quot;</span>);
            }
        }<span class="hljs-keyword">catch</span> (InterruptedException ie) {  
        }  
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">isSyncB</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; : isSyncB&quot;</span>);
            }
        }<span class="hljs-keyword">catch</span> (InterruptedException ie) {  
        }  
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">cSyncA</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; : cSyncA&quot;</span>);
            } 
        }<span class="hljs-keyword">catch</span> (InterruptedException ie) {  
        }  
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">cSyncB</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; : cSyncB&quot;</span>);
            } 
        }<span class="hljs-keyword">catch</span> (InterruptedException ie) {  
        }  
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LockTest2</span> </span>{
    Something x = <span class="hljs-keyword">new</span> Something();
    Something y = <span class="hljs-keyword">new</span> Something();
    <span class="hljs-comment">// &#x6BD4;&#x8F83;(02) x.isSyncA()&#x4E0E;y.isSyncA()</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test2</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// &#x65B0;&#x5EFA;t21, t21&#x4F1A;&#x8C03;&#x7528; x.isSyncA()</span>
        Thread t21 = <span class="hljs-keyword">new</span> Thread(
                <span class="hljs-keyword">new</span> Runnable() {
                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
                        x.isSyncA();
                    }
                }, <span class="hljs-string">&quot;t21&quot;</span>);
        <span class="hljs-comment">// &#x65B0;&#x5EFA;t22, t22&#x4F1A;&#x8C03;&#x7528; x.isSyncB()</span>
        Thread t22 = <span class="hljs-keyword">new</span> Thread(
                <span class="hljs-keyword">new</span> Runnable() {
                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
                        y.isSyncA();
                    }
                }, <span class="hljs-string">&quot;t22&quot;</span>);  
        t21.start();  <span class="hljs-comment">// &#x542F;&#x52A8;t21</span>
        t22.start();  <span class="hljs-comment">// &#x542F;&#x52A8;t22</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
        LockTest2 demo = <span class="hljs-keyword">new</span> LockTest2();
        demo.test2();
    }
}

t21 : isSyncA
t22 : isSyncA
t21 : isSyncA
t22 : isSyncA
t21 : isSyncA
t22 : isSyncA
t21 : isSyncA
t22 : isSyncA
t21 : isSyncA
t22 : isSyncA
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">// (03) &#x4E0D;&#x80FD;&#x88AB;&#x540C;&#x65F6;&#x8BBF;&#x95EE;&#x3002;&#x56E0;&#x4E3A;cSyncA()&#x548C;cSyncB()&#x90FD;&#x662F;static&#x7C7B;&#x578B;&#xFF0C;x.cSyncA()&#x76F8;&#x5F53;&#x4E8E;Something.isSyncA()&#xFF0C;y.cSyncB()&#x76F8;&#x5F53;&#x4E8E;Something.isSyncB()&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x4EEC;&#x5171;&#x7528;&#x4E00;&#x4E2A;&#x540C;&#x6B65;&#x9501;&#xFF0C;&#x4E0D;&#x80FD;&#x88AB;&#x540C;&#x65F6;&#x8BBF;&#x95EE;&#x3002;</span>
<span class="hljs-comment">// LockTest3.java&#x7684;&#x6E90;&#x7801;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Something</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">isSyncA</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; : isSyncA&quot;</span>);
            }
        }<span class="hljs-keyword">catch</span> (InterruptedException ie) {  
        }  
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">isSyncB</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; : isSyncB&quot;</span>);
            }
        }<span class="hljs-keyword">catch</span> (InterruptedException ie) {  
        }  
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">cSyncA</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; : cSyncA&quot;</span>);
            } 
        }<span class="hljs-keyword">catch</span> (InterruptedException ie) {  
        }  
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">cSyncB</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; : cSyncB&quot;</span>);
            } 
        }<span class="hljs-keyword">catch</span> (InterruptedException ie) {  
        }  
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LockTest3</span> </span>{
    Something x = <span class="hljs-keyword">new</span> Something();
    Something y = <span class="hljs-keyword">new</span> Something();
    <span class="hljs-comment">// &#x6BD4;&#x8F83;(03) x.cSyncA()&#x4E0E;y.cSyncB()</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test3</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// &#x65B0;&#x5EFA;t31, t31&#x4F1A;&#x8C03;&#x7528; x.isSyncA()</span>
        Thread t31 = <span class="hljs-keyword">new</span> Thread(
                <span class="hljs-keyword">new</span> Runnable() {
                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
                        x.cSyncA();
                    }
                }, <span class="hljs-string">&quot;t31&quot;</span>);
        <span class="hljs-comment">// &#x65B0;&#x5EFA;t32, t32&#x4F1A;&#x8C03;&#x7528; x.isSyncB()</span>
        Thread t32 = <span class="hljs-keyword">new</span> Thread(
                <span class="hljs-keyword">new</span> Runnable() {
                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
                        y.cSyncB();
                    }
                }, <span class="hljs-string">&quot;t32&quot;</span>);  
        t31.start();  <span class="hljs-comment">// &#x542F;&#x52A8;t31</span>
        t32.start();  <span class="hljs-comment">// &#x542F;&#x52A8;t32</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
        LockTest3 demo = <span class="hljs-keyword">new</span> LockTest3();
        demo.test3();
    }
}

t31 : cSyncA
t31 : cSyncA
t31 : cSyncA
t31 : cSyncA
t31 : cSyncA
t32 : cSyncB
t32 : cSyncB
t32 : cSyncB
t32 : cSyncB
t32 : cSyncB
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">// (04) &#x53EF;&#x4EE5;&#x88AB;&#x540C;&#x65F6;&#x8BBF;&#x95EE;&#x3002;&#x56E0;&#x4E3A;isSyncA()&#x662F;&#x5B9E;&#x4F8B;&#x65B9;&#x6CD5;&#xFF0C;x.isSyncA()&#x4F7F;&#x7528;&#x7684;&#x662F;&#x5BF9;&#x8C61;x&#x7684;&#x9501;&#xFF1B;&#x800C;cSyncA()&#x662F;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#xFF0C;Something.cSyncA()&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x5BF9;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x201C;&#x7C7B;&#x7684;&#x9501;&#x201D;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5B83;&#x4EEC;&#x662F;&#x53EF;&#x4EE5;&#x88AB;&#x540C;&#x65F6;&#x8BBF;&#x95EE;&#x7684;&#x3002;</span>
<span class="hljs-comment">// LockTest4.java&#x7684;&#x6E90;&#x7801;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Something</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">isSyncA</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; : isSyncA&quot;</span>);
            }
        }<span class="hljs-keyword">catch</span> (InterruptedException ie) {  
        }  
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">isSyncB</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; : isSyncB&quot;</span>);
            }
        }<span class="hljs-keyword">catch</span> (InterruptedException ie) {  
        }  
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">cSyncA</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; : cSyncA&quot;</span>);
            } 
        }<span class="hljs-keyword">catch</span> (InterruptedException ie) {  
        }  
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">cSyncB</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; : cSyncB&quot;</span>);
            } 
        }<span class="hljs-keyword">catch</span> (InterruptedException ie) {  
        }  
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LockTest4</span> </span>{
    Something x = <span class="hljs-keyword">new</span> Something();
    Something y = <span class="hljs-keyword">new</span> Something();
    <span class="hljs-comment">// &#x6BD4;&#x8F83;(04) x.isSyncA()&#x4E0E;Something.cSyncA()</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test4</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// &#x65B0;&#x5EFA;t41, t41&#x4F1A;&#x8C03;&#x7528; x.isSyncA()</span>
        Thread t41 = <span class="hljs-keyword">new</span> Thread(
                <span class="hljs-keyword">new</span> Runnable() {
                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
                        x.isSyncA();
                    }
                }, <span class="hljs-string">&quot;t41&quot;</span>);
        <span class="hljs-comment">// &#x65B0;&#x5EFA;t42, t42&#x4F1A;&#x8C03;&#x7528; x.isSyncB()</span>
        Thread t42 = <span class="hljs-keyword">new</span> Thread(
                <span class="hljs-keyword">new</span> Runnable() {
                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
                        Something.cSyncA();
                    }
                }, <span class="hljs-string">&quot;t42&quot;</span>);  
        t41.start();  <span class="hljs-comment">// &#x542F;&#x52A8;t41</span>
        t42.start();  <span class="hljs-comment">// &#x542F;&#x52A8;t42</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
        LockTest4 demo = <span class="hljs-keyword">new</span> LockTest4();
        demo.test4();
    }
}

t41 : isSyncA
t42 : cSyncA
t41 : isSyncA
t42 : cSyncA
t41 : isSyncA
t42 : cSyncA
t41 : isSyncA
t42 : cSyncA
t41 : isSyncA
t42 : cSyncA
</code></pre>
<h1 id="&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#x4E0E;&#x5524;&#x9192;"><a name="&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#x4E0E;&#x5524;&#x9192;" class="anchor-navigation-ex-anchor" href="#&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#x4E0E;&#x5524;&#x9192;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#x4E0E;&#x5524;&#x9192;" class="plugin-anchor" href="#&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#x4E0E;&#x5524;&#x9192;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#x4E0E;&#x5524;&#x9192;</h1>
<p><strong>wait(), notify(), notifyAll()&#x7B49;&#x65B9;&#x6CD5;&#x4ECB;&#x7ECD;</strong></p>
<p>Object&#x7C7B;&#x4E2D;&#x5173;&#x4E8E;&#x7B49;&#x5F85;/&#x5524;&#x9192;&#x7684;API&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x5982;&#x4E0B;&#xFF1A;
<strong>notify()</strong>  -- &#x5524;&#x9192;&#x5728;&#x6B64;&#x5BF9;&#x8C61;&#x76D1;&#x89C6;&#x5668;&#x4E0A;&#x7B49;&#x5F85;&#x7684;&#x5355;&#x4E2A;&#x7EBF;&#x7A0B;&#x3002;
<strong>notifyAll()</strong>  -- &#x5524;&#x9192;&#x5728;&#x6B64;&#x5BF9;&#x8C61;&#x76D1;&#x89C6;&#x5668;&#x4E0A;&#x7B49;&#x5F85;&#x7684;&#x6240;&#x6709;&#x7EBF;&#x7A0B;&#x3002;
<strong>wait()</strong> -- &#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x5904;&#x4E8E;&#x201C;&#x7B49;&#x5F85;(&#x963B;&#x585E;)&#x72B6;&#x6001;&#x201D;&#xFF0C;&#x201C;&#x76F4;&#x5230;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x8C03;&#x7528;&#x6B64;&#x5BF9;&#x8C61;&#x7684; notify() &#x65B9;&#x6CD5;&#x6216; notifyAll() &#x65B9;&#x6CD5;&#x201D;&#xFF0C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x88AB;&#x5524;&#x9192;(&#x8FDB;&#x5165;&#x201C;&#x5C31;&#x7EEA;&#x72B6;&#x6001;&#x201D;)&#x3002;
<strong>wait(long timeout)</strong> -- &#x8BA9;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x5904;&#x4E8E;&#x201C;&#x7B49;&#x5F85;(&#x963B;&#x585E;)&#x72B6;&#x6001;&#x201D;&#xFF0C;&#x201C;&#x76F4;&#x5230;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x8C03;&#x7528;&#x6B64;&#x5BF9;&#x8C61;&#x7684; notify() &#x65B9;&#x6CD5;&#x6216; notifyAll() &#x65B9;&#x6CD5;&#xFF0C;&#x6216;&#x8005;&#x8D85;&#x8FC7;&#x6307;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x91CF;&#x201D;&#xFF0C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x88AB;&#x5524;&#x9192;(&#x8FDB;&#x5165;&#x201C;&#x5C31;&#x7EEA;&#x72B6;&#x6001;&#x201D;)&#x3002;
<strong>wait(long timeout, int nanos)</strong>  -- &#x8BA9;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x5904;&#x4E8E;&#x201C;&#x7B49;&#x5F85;(&#x963B;&#x585E;)&#x72B6;&#x6001;&#x201D;&#xFF0C;&#x201C;&#x76F4;&#x5230;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x8C03;&#x7528;&#x6B64;&#x5BF9;&#x8C61;&#x7684; notify() &#x65B9;&#x6CD5;&#x6216; notifyAll() &#x65B9;&#x6CD5;&#xFF0C;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x67D0;&#x4E2A;&#x7EBF;&#x7A0B;&#x4E2D;&#x65AD;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#xFF0C;&#x6216;&#x8005;&#x5DF2;&#x8D85;&#x8FC7;&#x67D0;&#x4E2A;&#x5B9E;&#x9645;&#x65F6;&#x95F4;&#x91CF;&#x201D;&#xFF0C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x88AB;&#x5524;&#x9192;(&#x8FDB;&#x5165;&#x201C;&#x5C31;&#x7EEA;&#x72B6;&#x6001;&#x201D;)&#x3002;</p>
<p><strong>wait()&#x548C;notify()&#x793A;&#x4F8B;</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">// WaitTest.java&#x7684;&#x6E90;&#x7801;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThreadA</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span></span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ThreadA</span><span class="hljs-params">(String name)</span> </span>{
        <span class="hljs-keyword">super</span>(name);
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">synchronized</span> (<span class="hljs-keyword">this</span>) {
            System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; call notify()&quot;</span>);
            <span class="hljs-comment">// &#x5524;&#x9192;&#x5F53;&#x524D;&#x7684;wait&#x7EBF;&#x7A0B;</span>
            notify();
        }
    }
}
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WaitTest</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
        ThreadA t1 = <span class="hljs-keyword">new</span> ThreadA(<span class="hljs-string">&quot;t1&quot;</span>);
        <span class="hljs-keyword">synchronized</span>(t1) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// &#x542F;&#x52A8;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;</span>
                System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; start t1&quot;</span>);
                t1.start();
                <span class="hljs-comment">// &#x4E3B;&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;t1&#x901A;&#x8FC7;notify()&#x5524;&#x9192;&#x3002;</span>
                System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; wait()&quot;</span>);
                t1.wait();
                System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; continue&quot;</span>);
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
}

<span class="hljs-function">main start t1
main <span class="hljs-title">wait</span><span class="hljs-params">()</span>
t1 call <span class="hljs-title">notify</span><span class="hljs-params">()</span>
main <span class="hljs-keyword">continue</span>

<span class="hljs-comment">// &#x7ED3;&#x679C;&#x8BF4;&#x660E;&#xFF1A;</span>
&#x5982;&#x4E0B;&#x56FE;&#xFF0C;&#x8BF4;&#x660E;&#x4E86;&#x201C;&#x4E3B;&#x7EBF;&#x7A0B;&#x201D;&#x548C;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;&#x7684;&#x6D41;&#x7A0B;&#x3002;
<span class="hljs-params">(<span class="hljs-number">01</span>)</span> &#x6CE8;&#x610F;&#xFF0C;&#x56FE;&#x4E2D;&quot;&#x4E3B;&#x7EBF;&#x7A0B;&quot; &#x4EE3;&#x8868;&#x201C;&#x4E3B;&#x7EBF;&#x7A0B;main&#x201D;&#x3002;&quot;&#x7EBF;&#x7A0B;t1&quot; &#x4EE3;&#x8868;WaitTest&#x4E2D;&#x542F;&#x52A8;&#x7684;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;&#x3002; &#x800C;&#x201C;&#x9501;&#x201D; &#x4EE3;&#x8868;&#x201C;t1&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#x3002;
<span class="hljs-params">(<span class="hljs-number">02</span>)</span> &#x201C;&#x4E3B;&#x7EBF;&#x7A0B;&#x201D;&#x901A;&#x8FC7; new <span class="hljs-title">ThreadA</span><span class="hljs-params">(<span class="hljs-string">&quot;t1&quot;</span>)</span> &#x65B0;&#x5EFA;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;&#x3002;&#x968F;&#x540E;&#x901A;&#x8FC7;<span class="hljs-title">synchronized</span><span class="hljs-params">(t1)</span>&#x83B7;&#x53D6;&#x201C;t1&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#x3002;&#x7136;&#x540E;&#x8C03;&#x7528;t1.<span class="hljs-title">start</span><span class="hljs-params">()</span>&#x542F;&#x52A8;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;&#x3002;
<span class="hljs-params">(<span class="hljs-number">03</span>)</span> &#x201C;&#x4E3B;&#x7EBF;&#x7A0B;&#x201D;&#x6267;&#x884C;t1.<span class="hljs-title">wait</span><span class="hljs-params">()</span> &#x91CA;&#x653E;&#x201C;t1&#x5BF9;&#x8C61;&#x7684;&#x9501;&#x201D;&#x5E76;&#x4E14;&#x8FDB;&#x5165;&#x201C;&#x7B49;&#x5F85;<span class="hljs-params">(&#x963B;&#x585E;)</span>&#x72B6;&#x6001;&#x201D;&#x3002;&#x7B49;&#x5F85;t1&#x5BF9;&#x8C61;&#x4E0A;&#x7684;&#x7EBF;&#x7A0B;&#x901A;&#x8FC7;<span class="hljs-title">notify</span><span class="hljs-params">()</span> &#x6216; <span class="hljs-title">notifyAll</span><span class="hljs-params">()</span>&#x5C06;&#x5176;&#x5524;&#x9192;&#x3002;
<span class="hljs-params">(<span class="hljs-number">04</span>)</span> &#x201C;&#x7EBF;&#x7A0B;t1&#x201D;&#x8FD0;&#x884C;&#x4E4B;&#x540E;&#xFF0C;&#x901A;&#x8FC7;<span class="hljs-title">synchronized</span><span class="hljs-params">(<span class="hljs-keyword">this</span>)</span>&#x83B7;&#x53D6;&#x201C;&#x5F53;&#x524D;&#x5BF9;&#x8C61;&#x7684;&#x9501;&#x201D;&#xFF1B;&#x63A5;&#x7740;&#x8C03;&#x7528;<span class="hljs-title">notify</span><span class="hljs-params">()</span>&#x5524;&#x9192;&#x201C;&#x5F53;&#x524D;&#x5BF9;&#x8C61;&#x4E0A;&#x7684;&#x7B49;&#x5F85;&#x7EBF;&#x7A0B;&#x201D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5524;&#x9192;&#x201C;&#x4E3B;&#x7EBF;&#x7A0B;&#x201D;&#x3002;
<span class="hljs-params">(<span class="hljs-number">05</span>)</span> &#x201C;&#x7EBF;&#x7A0B;t1&#x201D;&#x8FD0;&#x884C;&#x5B8C;&#x6BD5;&#x4E4B;&#x540E;&#xFF0C;&#x91CA;&#x653E;&#x201C;&#x5F53;&#x524D;&#x5BF9;&#x8C61;&#x7684;&#x9501;&#x201D;&#x3002;&#x7D27;&#x63A5;&#x7740;&#xFF0C;&#x201C;&#x4E3B;&#x7EBF;&#x7A0B;&#x201D;&#x83B7;&#x53D6;&#x201C;t1&#x5BF9;&#x8C61;&#x7684;&#x9501;&#x201D;&#xFF0C;&#x7136;&#x540E;&#x63A5;&#x7740;&#x8FD0;&#x884C;&#x3002;
</span></code></pre>
<p><a href="https://images0.cnblogs.com/blog/497634/201312/18183712-f04899f92aaa43b6a33a85fecfa60a9d.png" target="_blank"><img src="res/Java%20Thread/18183712-f04899f92aaa43b6a33a85fecfa60a9d.png" alt="img"></a></p>
<p>jdk&#x6587;&#x6863;&#x4E2D;&#x5173;&#x4E8E;wait&#x7684;&#x4E00;&#x6BB5;&#x4ECB;&#x7ECD;&#xFF1A;</p>
<pre><code class="lang-java"><span class="hljs-function">Causes the current thread to wait until another thread invokes the <span class="hljs-title">notify</span><span class="hljs-params">()</span> method or the <span class="hljs-title">notifyAll</span><span class="hljs-params">()</span> method <span class="hljs-keyword">for</span> <span class="hljs-keyword">this</span> object. 
In other words, <span class="hljs-keyword">this</span> method behaves exactly as <span class="hljs-keyword">if</span> it simply performs the call <span class="hljs-title">wait</span><span class="hljs-params">(<span class="hljs-number">0</span>)</span>.
The current thread must own <span class="hljs-keyword">this</span> object&apos;s monitor. The thread releases ownership of <span class="hljs-keyword">this</span> monitor and waits until another thread notifies threads waiting on <span class="hljs-keyword">this</span> object&apos;s monitor to wake up either through a call to the notify method or the notifyAll method. The thread then waits until it can re-obtain ownership of the monitor and resumes execution.
&#x5F15;&#x8D77;&#x201C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x201D;&#x7B49;&#x5F85;&#xFF0C;&#x76F4;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x8C03;&#x7528;<span class="hljs-title">notify</span><span class="hljs-params">()</span>&#x6216;<span class="hljs-title">notifyAll</span><span class="hljs-params">()</span>&#x5524;&#x9192;&#x8BE5;&#x7EBF;&#x7A0B;&#x3002;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x548C;<span class="hljs-title">wait</span><span class="hljs-params">(<span class="hljs-number">0</span>)</span>&#x7684;&#x6548;&#x679C;&#x4E00;&#x6837;&#xFF01;<span class="hljs-params">(&#x8865;&#x5145;&#xFF0C;&#x5BF9;&#x4E8E;wait(<span class="hljs-keyword">long</span> millis)</span>&#x65B9;&#x6CD5;&#xFF0C;&#x5F53;millis&#x4E3A;0&#x65F6;&#xFF0C;&#x8868;&#x793A;&#x65E0;&#x9650;&#x7B49;&#x5F85;&#xFF0C;&#x76F4;&#x5230;&#x88AB;<span class="hljs-title">notify</span><span class="hljs-params">()</span>&#x6216;<span class="hljs-title">notifyAll</span><span class="hljs-params">()</span>&#x5524;&#x9192;)&#x3002;
&#x201C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x201D;&#x5728;&#x8C03;&#x7528;<span class="hljs-title">wait</span><span class="hljs-params">()</span>&#x65F6;&#xFF0C;&#x5FC5;&#x987B;&#x62E5;&#x6709;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x3002;&#x8BE5;&#x7EBF;&#x7A0B;&#x8C03;&#x7528;<span class="hljs-title">wait</span><span class="hljs-params">()</span>&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x91CA;&#x653E;&#x8BE5;&#x9501;&#xFF1B;&#x7136;&#x540E;&#x4E00;&#x76F4;&#x7B49;&#x5F85;&#x76F4;&#x5230;&#x201C;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x201D;&#x8C03;&#x7528;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x7684;<span class="hljs-title">notify</span><span class="hljs-params">()</span>&#x6216;<span class="hljs-title">notifyAll</span><span class="hljs-params">()</span>&#x65B9;&#x6CD5;&#x3002;&#x7136;&#x540E;&#xFF0C;&#x8BE5;&#x7EBF;&#x7A0B;&#x7EE7;&#x7EED;&#x7B49;&#x5F85;&#x76F4;&#x5230;&#x5B83;&#x91CD;&#x65B0;&#x83B7;&#x53D6;&#x201C;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x63A5;&#x7740;&#x8FD0;&#x884C;&#x3002;
&#x6CE8;&#x610F;&#xFF1A;jdk&#x7684;&#x89E3;&#x91CA;&#x4E2D;&#xFF0C;&#x8BF4;<span class="hljs-title">wait</span><span class="hljs-params">()</span>&#x7684;&#x4F5C;&#x7528;&#x662F;&#x8BA9;&#x201C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x201D;&#x7B49;&#x5F85;&#xFF0C;&#x800C;&#x201C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x201D;&#x662F;&#x6307;&#x6B63;&#x5728;cpu&#x4E0A;&#x8FD0;&#x884C;&#x7684;&#x7EBF;&#x7A0B;&#xFF01;
&#x8FD9;&#x4E5F;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x867D;&#x7136;t1.<span class="hljs-title">wait</span><span class="hljs-params">()</span>&#x662F;&#x901A;&#x8FC7;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;&#x8C03;&#x7528;&#x7684;<span class="hljs-title">wait</span><span class="hljs-params">()</span>&#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x662F;&#x8C03;&#x7528;t1.<span class="hljs-title">wait</span><span class="hljs-params">()</span>&#x7684;&#x5730;&#x65B9;&#x662F;&#x5728;&#x201C;&#x4E3B;&#x7EBF;&#x7A0B;main&#x201D;&#x4E2D;&#x3002;&#x800C;&#x4E3B;&#x7EBF;&#x7A0B;&#x5FC5;&#x987B;&#x662F;&#x201C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x201D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#xFF0C;&#x624D;&#x53EF;&#x4EE5;&#x6267;&#x884C;t1.<span class="hljs-title">wait</span><span class="hljs-params">()</span>&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x6B64;&#x65F6;&#x7684;&#x201C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x201D;&#x662F;&#x201C;&#x4E3B;&#x7EBF;&#x7A0B;main&#x201D;&#xFF01;&#x56E0;&#x6B64;&#xFF0C;t1.<span class="hljs-title">wait</span><span class="hljs-params">()</span>&#x662F;&#x8BA9;&#x201C;&#x4E3B;&#x7EBF;&#x7A0B;&#x201D;&#x7B49;&#x5F85;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;&#xFF01;
</span></code></pre>
<p><strong>wait(long timeout)&#x548C;notify()</strong></p>
<pre><code class="lang-java">wait(<span class="hljs-keyword">long</span> timeout)&#x4F1A;&#x8BA9;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x5904;&#x4E8E;&#x201C;&#x7B49;&#x5F85;(&#x963B;&#x585E;)&#x72B6;&#x6001;&#x201D;&#xFF0C;&#x201C;&#x76F4;&#x5230;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x8C03;&#x7528;&#x6B64;&#x5BF9;&#x8C61;&#x7684; notify() &#x65B9;&#x6CD5;&#x6216; notifyAll() &#x65B9;&#x6CD5;&#xFF0C;&#x6216;&#x8005;&#x8D85;&#x8FC7;&#x6307;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x91CF;&#x201D;&#xFF0C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x88AB;&#x5524;&#x9192;(&#x8FDB;&#x5165;&#x201C;&#x5C31;&#x7EEA;&#x72B6;&#x6001;&#x201D;)&#x3002;
<span class="hljs-comment">// WaitTimeoutTest.java&#x7684;&#x6E90;&#x7801;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThreadA</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span></span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ThreadA</span><span class="hljs-params">(String name)</span> </span>{
        <span class="hljs-keyword">super</span>(name);
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; run &quot;</span>);
        <span class="hljs-comment">// &#x6B7B;&#x5FAA;&#x73AF;&#xFF0C;&#x4E0D;&#x65AD;&#x8FD0;&#x884C;&#x3002;</span>
        <span class="hljs-keyword">while</span>(<span class="hljs-keyword">true</span>)
            ;
    }
}
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WaitTimeoutTest</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
        ThreadA t1 = <span class="hljs-keyword">new</span> ThreadA(<span class="hljs-string">&quot;t1&quot;</span>);
        <span class="hljs-keyword">synchronized</span>(t1) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// &#x542F;&#x52A8;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;</span>
                System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; start t1&quot;</span>);
                t1.start();
                <span class="hljs-comment">// &#x4E3B;&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;t1&#x901A;&#x8FC7;notify()&#x5524;&#x9192; &#x6216; notifyAll()&#x5524;&#x9192;&#xFF0C;&#x6216;&#x8D85;&#x8FC7;3000ms&#x5EF6;&#x65F6;&#xFF1B;&#x7136;&#x540E;&#x624D;&#x88AB;&#x5524;&#x9192;&#x3002;</span>
                System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; call wait &quot;</span>);
                t1.wait(<span class="hljs-number">3000</span>);
                System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; continue&quot;</span>);
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
}

main start t1
main call wait 
t1 run                  <span class="hljs-comment">// &#x5927;&#x7EA6;3&#x79D2;&#x4E4B;&#x540E;...&#x8F93;&#x51FA;&#x201C;main continue&#x201D;</span>
main <span class="hljs-keyword">continue</span>

<span class="hljs-comment">// &#x7ED3;&#x679C;&#x8BF4;&#x660E;&#xFF1A;</span>
&#x5982;&#x4E0B;&#x56FE;&#xFF0C;&#x8BF4;&#x660E;&#x4E86;&#x201C;&#x4E3B;&#x7EBF;&#x7A0B;&#x201D;&#x548C;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;&#x7684;&#x6D41;&#x7A0B;&#x3002;
(<span class="hljs-number">01</span>) &#x6CE8;&#x610F;&#xFF0C;&#x56FE;&#x4E2D;<span class="hljs-string">&quot;&#x4E3B;&#x7EBF;&#x7A0B;&quot;</span> &#x4EE3;&#x8868;WaitTimeoutTest&#x4E3B;&#x7EBF;&#x7A0B;(&#x5373;&#xFF0C;&#x7EBF;&#x7A0B;main)&#x3002;<span class="hljs-string">&quot;&#x7EBF;&#x7A0B;t1&quot;</span> &#x4EE3;&#x8868;WaitTest&#x4E2D;&#x542F;&#x52A8;&#x7684;&#x7EBF;&#x7A0B;t1&#x3002; &#x800C;&#x201C;&#x9501;&#x201D; &#x4EE3;&#x8868;&#x201C;t1&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#x3002;
(<span class="hljs-number">02</span>) &#x4E3B;&#x7EBF;&#x7A0B;main&#x6267;&#x884C;t1.start()&#x542F;&#x52A8;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;&#x3002;
(<span class="hljs-number">03</span>) &#x4E3B;&#x7EBF;&#x7A0B;main&#x6267;&#x884C;t1.wait(<span class="hljs-number">3000</span>)&#xFF0C;&#x6B64;&#x65F6;&#xFF0C;&#x4E3B;&#x7EBF;&#x7A0B;&#x8FDB;&#x5165;&#x201C;&#x963B;&#x585E;&#x72B6;&#x6001;&#x201D;&#x3002;&#x9700;&#x8981;&#x201C;&#x7528;&#x4E8E;t1&#x5BF9;&#x8C61;&#x9501;&#x7684;&#x7EBF;&#x7A0B;&#x901A;&#x8FC7;notify() &#x6216;&#x8005; notifyAll()&#x5C06;&#x5176;&#x5524;&#x9192;&#x201D; &#x6216;&#x8005; &#x201C;&#x8D85;&#x65F6;<span class="hljs-number">3000</span>ms&#x4E4B;&#x540E;&#x201D;&#xFF0C;&#x4E3B;&#x7EBF;&#x7A0B;main&#x624D;&#x8FDB;&#x5165;&#x5230;&#x201C;&#x5C31;&#x7EEA;&#x72B6;&#x6001;&#x201D;&#xFF0C;&#x7136;&#x540E;&#x624D;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x3002;
(<span class="hljs-number">04</span>) &#x201C;&#x7EBF;&#x7A0B;t1&#x201D;&#x8FD0;&#x884C;&#x4E4B;&#x540E;&#xFF0C;&#x8FDB;&#x5165;&#x4E86;&#x6B7B;&#x5FAA;&#x73AF;&#xFF0C;&#x4E00;&#x76F4;&#x4E0D;&#x65AD;&#x7684;&#x8FD0;&#x884C;&#x3002;
(<span class="hljs-number">05</span>) &#x8D85;&#x65F6;<span class="hljs-number">3000</span>ms&#x4E4B;&#x540E;&#xFF0C;&#x4E3B;&#x7EBF;&#x7A0B;main&#x4F1A;&#x8FDB;&#x5165;&#x5230;&#x201C;&#x5C31;&#x7EEA;&#x72B6;&#x6001;&#x201D;&#xFF0C;&#x7136;&#x540E;&#x63A5;&#x7740;&#x8FDB;&#x5165;&#x201C;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x201D;&#x3002;
</code></pre>
<p><a href="https://images0.cnblogs.com/blog/497634/201312/18183848-d4c16bf2760847afa4fede6a9d959083.png" target="_blank"><img src="res/Java%20Thread/18183848-d4c16bf2760847afa4fede6a9d959083.png" alt="img"></a></p>
<p><strong>wait() &#x548C; notifyAll()</strong></p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NotifyAllTest</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Object obj = <span class="hljs-keyword">new</span> Object();
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
        ThreadA t1 = <span class="hljs-keyword">new</span> ThreadA(<span class="hljs-string">&quot;t1&quot;</span>);
        ThreadA t2 = <span class="hljs-keyword">new</span> ThreadA(<span class="hljs-string">&quot;t2&quot;</span>);
        ThreadA t3 = <span class="hljs-keyword">new</span> ThreadA(<span class="hljs-string">&quot;t3&quot;</span>);
        t1.start();
        t2.start();
        t3.start();
        <span class="hljs-keyword">try</span> {
            System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; sleep(3000)&quot;</span>);
            Thread.sleep(<span class="hljs-number">3000</span>);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            e.printStackTrace();
        }
        <span class="hljs-keyword">synchronized</span>(obj) {
            <span class="hljs-comment">// &#x4E3B;&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#x5524;&#x9192;&#x3002;</span>
            System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; notifyAll()&quot;</span>);
            obj.notifyAll();
        }
    }
    <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThreadA</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span></span>{
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ThreadA</span><span class="hljs-params">(String name)</span></span>{
            <span class="hljs-keyword">super</span>(name);
        }
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">synchronized</span> (obj) {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-comment">// &#x6253;&#x5370;&#x8F93;&#x51FA;&#x7ED3;&#x679C;</span>
                    System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; wait&quot;</span>);
                    <span class="hljs-comment">// &#x5524;&#x9192;&#x5F53;&#x524D;&#x7684;wait&#x7EBF;&#x7A0B;</span>
                    obj.wait();
                    <span class="hljs-comment">// &#x6253;&#x5370;&#x8F93;&#x51FA;&#x7ED3;&#x679C;</span>
                    System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; continue&quot;</span>);
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    e.printStackTrace();
                }
            }
        }
    }
}

<span class="hljs-function">t1 wait
main <span class="hljs-title">sleep</span><span class="hljs-params">(<span class="hljs-number">3000</span>)</span>
t3 wait
t2 wait
main <span class="hljs-title">notifyAll</span><span class="hljs-params">()</span>
t2 <span class="hljs-keyword">continue</span>
t3 <span class="hljs-keyword">continue</span>
t1 <span class="hljs-keyword">continue</span>

<span class="hljs-comment">// &#x7ED3;&#x679C;&#x8BF4;&#x660E;&#xFF1A;</span>
&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x7684;&#x6D41;&#x7A0B;&#x56FE;&#x3002; 
<span class="hljs-params">(<span class="hljs-number">01</span>)</span> &#x4E3B;&#x7EBF;&#x7A0B;&#x4E2D;&#x65B0;&#x5EFA;&#x5E76;&#x4E14;&#x542F;&#x52A8;&#x4E86;3&#x4E2A;&#x7EBF;&#x7A0B;&quot;t1&quot;, &quot;t2&quot;&#x548C;&quot;t3&quot;&#x3002;
<span class="hljs-params">(<span class="hljs-number">02</span>)</span> &#x4E3B;&#x7EBF;&#x7A0B;&#x901A;&#x8FC7;<span class="hljs-title">sleep</span><span class="hljs-params">(<span class="hljs-number">3000</span>)</span>&#x4F11;&#x7720;3&#x79D2;&#x3002;&#x5728;&#x4E3B;&#x7EBF;&#x7A0B;&#x4F11;&#x7720;3&#x79D2;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5047;&#x8BBE;&quot;t1&quot;, &quot;t2&quot;&#x548C;&quot;t3&quot;&#x8FD9;3&#x4E2A;&#x7EBF;&#x7A0B;&#x90FD;&#x8FD0;&#x884C;&#x4E86;&#x3002;&#x4EE5;&quot;t1&quot;&#x4E3A;&#x4F8B;&#xFF0C;&#x5F53;&#x5B83;&#x8FD0;&#x884C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5B83;&#x4F1A;&#x6267;&#x884C;obj.<span class="hljs-title">wait</span><span class="hljs-params">()</span>&#x7B49;&#x5F85;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x901A;&#x8FC7;<span class="hljs-title">notify</span><span class="hljs-params">()</span>&#x6216;&#x989D;<span class="hljs-title">nofityAll</span><span class="hljs-params">()</span>&#x6765;&#x5524;&#x9192;&#x5B83;&#xFF1B;&#x76F8;&#x540C;&#x7684;&#x9053;&#x7406;&#xFF0C;&quot;t2&quot;&#x548C;&quot;t3&quot;&#x4E5F;&#x4F1A;&#x7B49;&#x5F85;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x901A;&#x8FC7;<span class="hljs-title">nofity</span><span class="hljs-params">()</span>&#x6216;<span class="hljs-title">nofityAll</span><span class="hljs-params">()</span>&#x6765;&#x5524;&#x9192;&#x5B83;&#x4EEC;&#x3002;
<span class="hljs-params">(<span class="hljs-number">03</span>)</span> &#x4E3B;&#x7EBF;&#x7A0B;&#x4F11;&#x7720;3&#x79D2;&#x4E4B;&#x540E;&#xFF0C;&#x63A5;&#x7740;&#x8FD0;&#x884C;&#x3002;&#x6267;&#x884C; obj.<span class="hljs-title">notifyAll</span><span class="hljs-params">()</span> &#x5524;&#x9192;obj&#x4E0A;&#x7684;&#x7B49;&#x5F85;&#x7EBF;&#x7A0B;&#xFF0C;&#x5373;&#x5524;&#x9192;&quot;t1&quot;, &quot;t2&quot;&#x548C;&quot;t3&quot;&#x8FD9;3&#x4E2A;&#x7EBF;&#x7A0B;&#x3002; &#x7D27;&#x63A5;&#x7740;&#xFF0C;&#x4E3B;&#x7EBF;&#x7A0B;&#x7684;<span class="hljs-title">synchronized</span><span class="hljs-params">(obj)</span>&#x8FD0;&#x884C;&#x5B8C;&#x6BD5;&#x4E4B;&#x540E;&#xFF0C;&#x4E3B;&#x7EBF;&#x7A0B;&#x91CA;&#x653E;&#x201C;obj&#x9501;&#x201D;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&quot;t1&quot;, &quot;t2&quot;&#x548C;&quot;t3&quot;&#x5C31;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x201C;obj&#x9501;&#x201D;&#x800C;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#x4E86;&#xFF01;
</span></code></pre>
<p><a href="https://images0.cnblogs.com/blog/497634/201312/18183923-95275c066212410f96181704a681f453.png" target="_blank"><img src="res/Java%20Thread/18183923-95275c066212410f96181704a681f453.png" alt="img"></a></p>
<p>Object&#x4E2D;&#x7684;wait(), notify()&#x7B49;&#x51FD;&#x6570;&#xFF0C;&#x548C;synchronized&#x4E00;&#x6837;&#xFF0C;&#x4F1A;&#x5BF9;&#x201C;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002;</p>
<p>wait()&#x4F1A;&#x4F7F;&#x201C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x201D;&#x7B49;&#x5F85;&#xFF0C;&#x56E0;&#x4E3A;&#x7EBF;&#x7A0B;&#x8FDB;&#x5165;&#x7B49;&#x5F85;&#x72B6;&#x6001;&#xFF0C;&#x6240;&#x4EE5;&#x7EBF;&#x7A0B;&#x5E94;&#x8BE5;&#x91CA;&#x653E;&#x5B83;&#x9501;&#x6301;&#x6709;&#x7684;&#x201C;&#x540C;&#x6B65;&#x9501;&#x201D;&#xFF0C;&#x5426;&#x5219;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x83B7;&#x53D6;&#x4E0D;&#x5230;&#x8BE5;&#x201C;&#x540C;&#x6B65;&#x9501;&#x201D;&#x800C;&#x65E0;&#x6CD5;&#x8FD0;&#x884C;&#xFF01;
OK&#xFF0C;&#x7EBF;&#x7A0B;&#x8C03;&#x7528;wait()&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x91CA;&#x653E;&#x5B83;&#x9501;&#x6301;&#x6709;&#x7684;&#x201C;&#x540C;&#x6B65;&#x9501;&#x201D;&#xFF1B;&#x800C;&#x4E14;&#xFF0C;&#x6839;&#x636E;&#x524D;&#x9762;&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#xFF1A;&#x7B49;&#x5F85;&#x7EBF;&#x7A0B;&#x53EF;&#x4EE5;&#x88AB;notify()&#x6216;notifyAll()&#x5524;&#x9192;&#x3002;&#x73B0;&#x5728;&#xFF0C;&#x8BF7;&#x601D;&#x8003;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;notify()&#x662F;&#x4F9D;&#x636E;&#x4EC0;&#x4E48;&#x5524;&#x9192;&#x7B49;&#x5F85;&#x7EBF;&#x7A0B;&#x7684;&#xFF1F;&#x6216;&#x8005;&#x8BF4;&#xFF0C;wait()&#x7B49;&#x5F85;&#x7EBF;&#x7A0B;&#x548C;notify()&#x4E4B;&#x95F4;&#x662F;&#x901A;&#x8FC7;&#x4EC0;&#x4E48;&#x5173;&#x8054;&#x8D77;&#x6765;&#x7684;&#xFF1F;&#x7B54;&#x6848;&#x662F;&#xFF1A;&#x4F9D;&#x636E;&#x201C;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#x3002;</p>
<p>&#x8D1F;&#x8D23;&#x5524;&#x9192;&#x7B49;&#x5F85;&#x7EBF;&#x7A0B;&#x7684;&#x90A3;&#x4E2A;&#x7EBF;&#x7A0B;(&#x6211;&#x4EEC;&#x79F0;&#x4E3A;&#x201C;<strong>&#x5524;&#x9192;&#x7EBF;&#x7A0B;</strong>&#x201D;)&#xFF0C;&#x5B83;&#x53EA;&#x6709;&#x5728;&#x83B7;&#x53D6;&#x201C;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;(<strong>&#x8FD9;&#x91CC;&#x7684;&#x540C;&#x6B65;&#x9501;&#x5FC5;&#x987B;&#x548C;&#x7B49;&#x5F85;&#x7EBF;&#x7A0B;&#x7684;&#x540C;&#x6B65;&#x9501;&#x662F;&#x540C;&#x4E00;&#x4E2A;</strong>)&#xFF0C;&#x5E76;&#x4E14;&#x8C03;&#x7528;notify()&#x6216;notifyAll()&#x65B9;&#x6CD5;&#x4E4B;&#x540E;&#xFF0C;&#x624D;&#x80FD;&#x5524;&#x9192;&#x7B49;&#x5F85;&#x7EBF;&#x7A0B;&#x3002;&#x867D;&#x7136;&#xFF0C;&#x7B49;&#x5F85;&#x7EBF;&#x7A0B;&#x88AB;&#x5524;&#x9192;&#xFF1B;&#x4F46;&#x662F;&#xFF0C;&#x5B83;&#x4E0D;&#x80FD;&#x7ACB;&#x523B;&#x6267;&#x884C;&#xFF0C;&#x56E0;&#x4E3A;&#x5524;&#x9192;&#x7EBF;&#x7A0B;&#x8FD8;&#x6301;&#x6709;&#x201C;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#x3002;&#x5FC5;&#x987B;&#x7B49;&#x5230;&#x5524;&#x9192;&#x7EBF;&#x7A0B;&#x91CA;&#x653E;&#x4E86;&#x201C;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#x4E4B;&#x540E;&#xFF0C;&#x7B49;&#x5F85;&#x7EBF;&#x7A0B;&#x624D;&#x80FD;&#x83B7;&#x53D6;&#x5230;&#x201C;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#x8FDB;&#x800C;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#x3002;</p>
<p>&#x603B;&#x4E4B;&#xFF0C;notify(), wait()&#x4F9D;&#x8D56;&#x4E8E;&#x201C;&#x540C;&#x6B65;&#x9501;&#x201D;&#xFF0C;&#x800C;&#x201C;&#x540C;&#x6B65;&#x9501;&#x201D;&#x662F;&#x5BF9;&#x8C61;&#x9501;&#x6301;&#x6709;&#xFF0C;&#x5E76;&#x4E14;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x6709;&#x4E14;&#x4EC5;&#x6709;&#x4E00;&#x4E2A;&#xFF01;&#x8FD9;&#x5C31;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;notify(), wait()&#x7B49;&#x51FD;&#x6570;&#x5B9A;&#x4E49;&#x5728;Object&#x7C7B;&#xFF0C;&#x800C;&#x4E0D;&#x662F;Thread&#x7C7B;&#x4E2D;&#x7684;&#x539F;&#x56E0;&#x3002;</p>
<h1 id="&#x7EBF;&#x7A0B;&#x8BA9;&#x6B65;yield"><a name="&#x7EBF;&#x7A0B;&#x8BA9;&#x6B65;yield" class="anchor-navigation-ex-anchor" href="#&#x7EBF;&#x7A0B;&#x8BA9;&#x6B65;yield"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x7EBF;&#x7A0B;&#x8BA9;&#x6B65;yield" class="plugin-anchor" href="#&#x7EBF;&#x7A0B;&#x8BA9;&#x6B65;yield"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7EBF;&#x7A0B;&#x8BA9;&#x6B65;yield()</h1>
<p>yield()&#x7684;&#x4F5C;&#x7528;&#x662F;&#x8BA9;&#x6B65;&#x3002;&#x5B83;&#x80FD;&#x8BA9;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x7531;&#x201C;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x201D;&#x8FDB;&#x5165;&#x5230;&#x201C;&#x5C31;&#x7EEA;&#x72B6;&#x6001;&#x201D;&#xFF0C;&#x4ECE;&#x800C;&#x8BA9;&#x5176;&#x5B83;&#x5177;&#x6709;&#x76F8;&#x540C;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x7B49;&#x5F85;&#x7EBF;&#x7A0B;&#x83B7;&#x53D6;&#x6267;&#x884C;&#x6743;&#xFF1B;&#x4F46;&#x662F;&#xFF0C;&#x5E76;&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x5728;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x8C03;&#x7528;yield()&#x4E4B;&#x540E;&#xFF0C;&#x5176;&#x5B83;&#x5177;&#x6709;&#x76F8;&#x540C;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x7EBF;&#x7A0B;&#x5C31;&#x4E00;&#x5B9A;&#x80FD;&#x83B7;&#x5F97;&#x6267;&#x884C;&#x6743;&#xFF1B;&#x4E5F;&#x6709;&#x53EF;&#x80FD;&#x662F;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x53C8;&#x8FDB;&#x5165;&#x5230;&#x201C;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x201D;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#xFF01;</p>
<pre><code class="lang-java"><span class="hljs-comment">// YieldTest.java&#x7684;&#x6E90;&#x7801;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThreadA</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span></span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ThreadA</span><span class="hljs-params">(String name)</span></span>{ 
        <span class="hljs-keyword">super</span>(name); 
    } 
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span>{ 
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i &lt;<span class="hljs-number">10</span>; i++){ 
            System.out.printf(<span class="hljs-string">&quot;%s [%d]:%d\n&quot;</span>, <span class="hljs-keyword">this</span>.getName(), <span class="hljs-keyword">this</span>.getPriority(), i); 
            <span class="hljs-comment">// i&#x6574;&#x9664;4&#x65F6;&#xFF0C;&#x8C03;&#x7528;yield</span>
            <span class="hljs-keyword">if</span> (i%<span class="hljs-number">4</span> == <span class="hljs-number">0</span>)
                Thread.yield();
        } 
    } 
} 
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">YieldTest</span></span>{ 
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>{ 
        ThreadA t1 = <span class="hljs-keyword">new</span> ThreadA(<span class="hljs-string">&quot;t1&quot;</span>); 
        ThreadA t2 = <span class="hljs-keyword">new</span> ThreadA(<span class="hljs-string">&quot;t2&quot;</span>); 
        t1.start(); 
        t2.start();
    } 
}

<span class="hljs-comment">// &#x7ED3;&#x679C;&#x8BF4;&#x660E;&#xFF1A;</span>
&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;&#x5728;&#x80FD;&#x88AB;<span class="hljs-number">4</span>&#x6574;&#x6570;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x5207;&#x6362;&#x5230;&#x201C;&#x7EBF;&#x7A0B;t2&#x201D;&#x3002;&#x8FD9;&#x8868;&#x660E;&#xFF0C;yield()&#x867D;&#x7136;&#x53EF;&#x4EE5;&#x8BA9;&#x7EBF;&#x7A0B;&#x7531;&#x201C;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x201D;&#x8FDB;&#x5165;&#x5230;&#x201C;&#x5C31;&#x7EEA;&#x72B6;&#x6001;&#x201D;&#xFF1B;&#x4F46;&#x662F;&#xFF0C;&#x5B83;&#x4E0D;&#x4E00;&#x5B9A;&#x4F1A;&#x8BA9;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x83B7;&#x53D6;CPU&#x6267;&#x884C;&#x6743;(&#x5373;&#xFF0C;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x8FDB;&#x5165;&#x5230;&#x201C;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x201D;)&#xFF0C;&#x5373;&#x4F7F;&#x8FD9;&#x4E2A;&#x201C;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x201D;&#x4E0E;&#x5F53;&#x524D;&#x8C03;&#x7528;yield()&#x7684;&#x7EBF;&#x7A0B;&#x5177;&#x6709;&#x76F8;&#x540C;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x3002;

t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">0</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">0</span>
t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">1</span>
t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">2</span>
t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">3</span>
t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">4</span>
t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">5</span>
t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">6</span>
t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">7</span>
t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">8</span>
t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">9</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">1</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">2</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">3</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">4</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">5</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">6</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">7</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">8</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">9</span>
</code></pre>
<p><strong>yield() &#x4E0E; wait()&#x7684;&#x6BD4;&#x8F83;</strong></p>
<p><a href="http://www.cnblogs.com/skywang12345/p/3479224.html" target="_blank">wait()</a>&#x7684;&#x4F5C;&#x7528;&#x662F;&#x8BA9;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x7531;&#x201C;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x201D;&#x8FDB;&#x5165;&#x201C;&#x7B49;&#x5F85;(&#x963B;&#x585E;)&#x72B6;&#x6001;&#x201D;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x4E5F;&#x4F1A;&#x91CA;&#x653E;&#x540C;&#x6B65;&#x9501;&#x3002;&#x800C;yield()&#x7684;&#x4F5C;&#x7528;&#x662F;&#x8BA9;&#x6B65;&#xFF0C;&#x5B83;&#x4E5F;&#x4F1A;&#x8BA9;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x79BB;&#x5F00;&#x201C;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x201D;&#x3002;&#x5B83;&#x4EEC;&#x7684;&#x533A;&#x522B;&#x662F;&#xFF1A;
(01) wait()&#x662F;&#x8BA9;&#x7EBF;&#x7A0B;&#x7531;&#x201C;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x201D;&#x8FDB;&#x5165;&#x5230;&#x201C;&#x7B49;&#x5F85;(&#x963B;&#x585E;)&#x72B6;&#x6001;&#x201D;&#xFF0C;&#x800C;&#x4E0D;yield()&#x662F;&#x8BA9;&#x7EBF;&#x7A0B;&#x7531;&#x201C;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x201D;&#x8FDB;&#x5165;&#x5230;&#x201C;&#x5C31;&#x7EEA;&#x72B6;&#x6001;&#x201D;&#x3002;
(02) wait()&#x662F;&#x4F1A;&#x7EBF;&#x7A0B;&#x91CA;&#x653E;&#x5B83;&#x6240;&#x6301;&#x6709;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#xFF0C;&#x800C;yield()&#x65B9;&#x6CD5;&#x4E0D;&#x4F1A;&#x91CA;&#x653E;&#x9501;&#x3002;</p>
<pre><code class="lang-java"><span class="hljs-comment">// &#x4E0B;&#x9762;&#x901A;&#x8FC7;&#x793A;&#x4F8B;&#x6F14;&#x793A;yield()&#x662F;&#x4E0D;&#x4F1A;&#x91CA;&#x653E;&#x9501;&#x7684;&#x3002;</span>
<span class="hljs-comment">// YieldLockTest.java &#x7684;&#x6E90;&#x7801;</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">YieldLockTest</span></span>{ 
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Object obj = <span class="hljs-keyword">new</span> Object();
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>{ 
        ThreadA t1 = <span class="hljs-keyword">new</span> ThreadA(<span class="hljs-string">&quot;t1&quot;</span>); 
        ThreadA t2 = <span class="hljs-keyword">new</span> ThreadA(<span class="hljs-string">&quot;t2&quot;</span>); 
        t1.start(); 
        t2.start();
    } 
    <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThreadA</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span></span>{
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ThreadA</span><span class="hljs-params">(String name)</span></span>{ 
            <span class="hljs-keyword">super</span>(name); 
        } 
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span>{ 
            <span class="hljs-comment">// &#x83B7;&#x53D6;obj&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;</span>
            <span class="hljs-keyword">synchronized</span> (obj) {
                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i &lt;<span class="hljs-number">10</span>; i++){ 
                    System.out.printf(<span class="hljs-string">&quot;%s [%d]:%d\n&quot;</span>, <span class="hljs-keyword">this</span>.getName(), <span class="hljs-keyword">this</span>.getPriority(), i); 
                    <span class="hljs-comment">// i&#x6574;&#x9664;4&#x65F6;&#xFF0C;&#x8C03;&#x7528;yield</span>
                    <span class="hljs-keyword">if</span> (i%<span class="hljs-number">4</span> == <span class="hljs-number">0</span>)
                        Thread.yield();
                }
            }
        } 
    } 
}

<span class="hljs-comment">// &#x7ED3;&#x679C;&#x8BF4;&#x660E;&#xFF1A;</span>
&#x4E3B;&#x7EBF;&#x7A0B;main&#x4E2D;&#x542F;&#x52A8;&#x4E86;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;t1&#x548C;t2&#x3002;t1&#x548C;t2&#x5728;run()&#x4F1A;&#x5F15;&#x7528;&#x540C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#xFF0C;&#x5373;<span class="hljs-keyword">synchronized</span>(obj)&#x3002;&#x5728;t1&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x867D;&#x7136;&#x5B83;&#x4F1A;&#x8C03;&#x7528;Thread.yield()&#xFF1B;&#x4F46;&#x662F;&#xFF0C;t2&#x662F;&#x4E0D;&#x4F1A;&#x83B7;&#x53D6;cpu&#x6267;&#x884C;&#x6743;&#x7684;&#x3002;&#x56E0;&#x4E3A;&#xFF0C;t1&#x5E76;&#x6CA1;&#x6709;&#x91CA;&#x653E;&#x201C;obj&#x6240;&#x6301;&#x6709;&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#xFF01;

t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">0</span>
t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">1</span>
t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">2</span>
t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">3</span>
t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">4</span>
t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">5</span>
t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">6</span>
t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">7</span>
t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">8</span>
t1 [<span class="hljs-number">5</span>]:<span class="hljs-number">9</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">0</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">1</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">2</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">3</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">4</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">5</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">6</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">7</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">8</span>
t2 [<span class="hljs-number">5</span>]:<span class="hljs-number">9</span>
</code></pre>
<h1 id="&#x7EBF;&#x7A0B;&#x4F11;&#x7720;sleep"><a name="&#x7EBF;&#x7A0B;&#x4F11;&#x7720;sleep" class="anchor-navigation-ex-anchor" href="#&#x7EBF;&#x7A0B;&#x4F11;&#x7720;sleep"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x7EBF;&#x7A0B;&#x4F11;&#x7720;sleep" class="plugin-anchor" href="#&#x7EBF;&#x7A0B;&#x4F11;&#x7720;sleep"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7EBF;&#x7A0B;&#x4F11;&#x7720;sleep()</h1>
<p>sleep() &#x5B9A;&#x4E49;&#x5728;Thread.java&#x4E2D;&#x3002;
sleep() &#x7684;&#x4F5C;&#x7528;&#x662F;&#x8BA9;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x4F11;&#x7720;&#xFF0C;&#x5373;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x4F1A;&#x4ECE;&#x201C;<a href="http://www.cnblogs.com/skywang12345/p/3479024.html" target="_blank">&#x8FD0;&#x884C;&#x72B6;&#x6001;</a>&#x201D;&#x8FDB;&#x5165;&#x5230;&#x201C;<a href="http://www.cnblogs.com/skywang12345/p/3479024.html" target="_blank">&#x4F11;&#x7720;(&#x963B;&#x585E;)&#x72B6;&#x6001;</a>&#x201D;&#x3002;sleep()&#x4F1A;&#x6307;&#x5B9A;&#x4F11;&#x7720;&#x65F6;&#x95F4;&#xFF0C;&#x7EBF;&#x7A0B;&#x4F11;&#x7720;&#x7684;&#x65F6;&#x95F4;&#x4F1A;&#x5927;&#x4E8E;/&#x7B49;&#x4E8E;&#x8BE5;&#x4F11;&#x7720;&#x65F6;&#x95F4;&#xFF1B;&#x5728;&#x7EBF;&#x7A0B;&#x91CD;&#x65B0;&#x88AB;&#x5524;&#x9192;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x7531;&#x201C;<a href="http://www.cnblogs.com/skywang12345/p/3479024.html" target="_blank">&#x963B;&#x585E;&#x72B6;&#x6001;</a>&#x201D;&#x53D8;&#x6210;&#x201C;<a href="http://www.cnblogs.com/skywang12345/p/3479024.html" target="_blank">&#x5C31;&#x7EEA;&#x72B6;&#x6001;</a>&#x201D;&#xFF0C;&#x4ECE;&#x800C;&#x7B49;&#x5F85;cpu&#x7684;&#x8C03;&#x5EA6;&#x6267;&#x884C;&#x3002;</p>
<pre><code class="lang-java"><span class="hljs-comment">// SleepTest.java&#x7684;&#x6E90;&#x7801;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThreadA</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span></span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ThreadA</span><span class="hljs-params">(String name)</span></span>{ 
        <span class="hljs-keyword">super</span>(name); 
    } 
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{ 
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i &lt;<span class="hljs-number">10</span>; i++){ 
                System.out.printf(<span class="hljs-string">&quot;%s: %d\n&quot;</span>, <span class="hljs-keyword">this</span>.getName(), i); 
                <span class="hljs-comment">// i&#x80FD;&#x88AB;4&#x6574;&#x9664;&#x65F6;&#xFF0C;&#x4F11;&#x7720;100&#x6BEB;&#x79D2;</span>
                <span class="hljs-keyword">if</span> (i%<span class="hljs-number">4</span> == <span class="hljs-number">0</span>)
                    Thread.sleep(<span class="hljs-number">100</span>);
            } 
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            e.printStackTrace();
        }
    } 
} 
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SleepTest</span></span>{ 
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>{ 
        ThreadA t1 = <span class="hljs-keyword">new</span> ThreadA(<span class="hljs-string">&quot;t1&quot;</span>); 
        t1.start(); 
    } 
}

<span class="hljs-comment">// &#x7ED3;&#x679C;&#x8BF4;&#x660E;&#xFF1A;</span>
&#x7A0B;&#x5E8F;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x5728;&#x4E3B;&#x7EBF;&#x7A0B;main&#x4E2D;&#x542F;&#x52A8;&#x7EBF;&#x7A0B;t1&#x3002;t1&#x542F;&#x52A8;&#x4E4B;&#x540E;&#xFF0C;&#x5F53;t1&#x4E2D;&#x7684;&#x8BA1;&#x7B97;i&#x80FD;&#x88AB;<span class="hljs-number">4</span>&#x6574;&#x9664;&#x65F6;&#xFF0C;t1&#x4F1A;&#x901A;&#x8FC7;Thread.sleep(<span class="hljs-number">100</span>)&#x4F11;&#x7720;<span class="hljs-number">100</span>&#x6BEB;&#x79D2;&#x3002;

t1: <span class="hljs-number">0</span>
t1: <span class="hljs-number">1</span>
t1: <span class="hljs-number">2</span>
t1: <span class="hljs-number">3</span>
t1: <span class="hljs-number">4</span>
t1: <span class="hljs-number">5</span>
t1: <span class="hljs-number">6</span>
t1: <span class="hljs-number">7</span>
t1: <span class="hljs-number">8</span>
t1: <span class="hljs-number">9</span>
</code></pre>
<p><strong>sleep() &#x4E0E; wait()&#x7684;&#x6BD4;&#x8F83;</strong></p>
<p>wait()&#x7684;&#x4F5C;&#x7528;&#x662F;&#x8BA9;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x7531;&#x201C;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x201D;&#x8FDB;&#x5165;&#x201C;&#x7B49;&#x5F85;(&#x963B;&#x585E;)&#x72B6;&#x6001;&#x201D;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x4E5F;&#x4F1A;&#x91CA;&#x653E;&#x540C;&#x6B65;&#x9501;&#x3002;&#x800C;sleep()&#x7684;&#x4F5C;&#x7528;&#x662F;&#x4E5F;&#x662F;&#x8BA9;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x7531;&#x201C;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x201D;&#x8FDB;&#x5165;&#x5230;&#x201C;&#x4F11;&#x7720;(&#x963B;&#x585E;)&#x72B6;&#x6001;&#x201D;&#x3002;
&#x4F46;&#x662F;&#xFF0C;wait()&#x4F1A;&#x91CA;&#x653E;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#xFF0C;&#x800C;sleep()&#x5219;&#x4E0D;&#x4F1A;&#x91CA;&#x653E;&#x9501;&#x3002;</p>
<pre><code class="lang-java"><span class="hljs-comment">// SleepLockTest.java&#x7684;&#x6E90;&#x7801;</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SleepLockTest</span></span>{ 
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Object obj = <span class="hljs-keyword">new</span> Object();
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>{ 
        ThreadA t1 = <span class="hljs-keyword">new</span> ThreadA(<span class="hljs-string">&quot;t1&quot;</span>); 
        ThreadA t2 = <span class="hljs-keyword">new</span> ThreadA(<span class="hljs-string">&quot;t2&quot;</span>); 
        t1.start(); 
        t2.start();
    } 
    <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThreadA</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span></span>{
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ThreadA</span><span class="hljs-params">(String name)</span></span>{ 
            <span class="hljs-keyword">super</span>(name); 
        } 
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span>{ 
            <span class="hljs-comment">// &#x83B7;&#x53D6;obj&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;</span>
            <span class="hljs-keyword">synchronized</span> (obj) {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i &lt;<span class="hljs-number">10</span>; i++){ 
                        System.out.printf(<span class="hljs-string">&quot;%s: %d\n&quot;</span>, <span class="hljs-keyword">this</span>.getName(), i); 
                        <span class="hljs-comment">// i&#x80FD;&#x88AB;4&#x6574;&#x9664;&#x65F6;&#xFF0C;&#x4F11;&#x7720;100&#x6BEB;&#x79D2;</span>
                        <span class="hljs-keyword">if</span> (i%<span class="hljs-number">4</span> == <span class="hljs-number">0</span>)
                            Thread.sleep(<span class="hljs-number">100</span>);
                    }
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    e.printStackTrace();
                }
            }
        } 
    } 
}

<span class="hljs-comment">// &#x7ED3;&#x679C;&#x8BF4;&#x660E;&#xFF1A;</span>
&#x4E3B;&#x7EBF;&#x7A0B;main&#x4E2D;&#x542F;&#x52A8;&#x4E86;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;t1&#x548C;t2&#x3002;t1&#x548C;t2&#x5728;run()&#x4F1A;&#x5F15;&#x7528;&#x540C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#xFF0C;&#x5373;<span class="hljs-keyword">synchronized</span>(obj)&#x3002;&#x5728;t1&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x867D;&#x7136;&#x5B83;&#x4F1A;&#x8C03;&#x7528;Thread.sleep(<span class="hljs-number">100</span>)&#xFF1B;&#x4F46;&#x662F;&#xFF0C;t2&#x662F;&#x4E0D;&#x4F1A;&#x83B7;&#x53D6;cpu&#x6267;&#x884C;&#x6743;&#x7684;&#x3002;&#x56E0;&#x4E3A;&#xFF0C;t1&#x5E76;&#x6CA1;&#x6709;&#x91CA;&#x653E;&#x201C;obj&#x6240;&#x6301;&#x6709;&#x7684;&#x540C;&#x6B65;&#x9501;&#x201D;&#xFF01;
&#x6CE8;&#x610F;&#xFF0C;&#x82E5;&#x6211;&#x4EEC;&#x6CE8;&#x91CA;&#x6389;<span class="hljs-keyword">synchronized</span> (obj)&#x540E;&#x518D;&#x6B21;&#x6267;&#x884C;&#x8BE5;&#x7A0B;&#x5E8F;&#xFF0C;t1&#x548C;t2&#x662F;&#x53EF;&#x4EE5;&#x76F8;&#x4E92;&#x5207;&#x6362;&#x7684;&#x3002;

t1: <span class="hljs-number">0</span>
t1: <span class="hljs-number">1</span>
t1: <span class="hljs-number">2</span>
t1: <span class="hljs-number">3</span>
t1: <span class="hljs-number">4</span>
t1: <span class="hljs-number">5</span>
t1: <span class="hljs-number">6</span>
t1: <span class="hljs-number">7</span>
t1: <span class="hljs-number">8</span>
t1: <span class="hljs-number">9</span>
t2: <span class="hljs-number">0</span>
t2: <span class="hljs-number">1</span>
t2: <span class="hljs-number">2</span>
t2: <span class="hljs-number">3</span>
t2: <span class="hljs-number">4</span>
t2: <span class="hljs-number">5</span>
t2: <span class="hljs-number">6</span>
t2: <span class="hljs-number">7</span>
t2: <span class="hljs-number">8</span>
t2: <span class="hljs-number">9</span>
</code></pre>
<h1 id="join-&#x65B9;&#x6CD5;"><a name="join-&#x65B9;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#join-&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="join-&#x65B9;&#x6CD5;" class="plugin-anchor" href="#join-&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>join() &#x65B9;&#x6CD5;</h1>
<p>join() &#x7684;&#x4F5C;&#x7528;&#xFF1A;&#x8BA9;&#x201C;&#x4E3B;&#x7EBF;&#x7A0B;&#x201D;&#x7B49;&#x5F85;&#x201C;&#x5B50;&#x7EBF;&#x7A0B;&#x201D;&#x7ED3;&#x675F;&#x4E4B;&#x540E;&#x624D;&#x80FD;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#x3002;</p>
<pre><code class="lang-java"><span class="hljs-comment">// &#x4E3B;&#x7EBF;&#x7A0B;</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Father</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
        Son s = <span class="hljs-keyword">new</span> Son();
        s.start();
        s.join();
        ...
    }
}
<span class="hljs-comment">// &#x5B50;&#x7EBF;&#x7A0B;</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Son</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
        ...
    }
}

<span class="hljs-comment">// &#x8BF4;&#x660E;&#xFF1A;</span>
&#x4E0A;&#x9762;&#x7684;&#x6709;&#x4E24;&#x4E2A;&#x7C7B;Father(&#x4E3B;&#x7EBF;&#x7A0B;&#x7C7B;)&#x548C;Son(&#x5B50;&#x7EBF;&#x7A0B;&#x7C7B;)&#x3002;&#x56E0;&#x4E3A;Son&#x662F;&#x5728;Father&#x4E2D;&#x521B;&#x5EFA;&#x5E76;&#x542F;&#x52A8;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;Father&#x662F;&#x4E3B;&#x7EBF;&#x7A0B;&#x7C7B;&#xFF0C;Son&#x662F;&#x5B50;&#x7EBF;&#x7A0B;&#x7C7B;&#x3002;
&#x5728;Father&#x4E3B;&#x7EBF;&#x7A0B;&#x4E2D;&#xFF0C;&#x901A;&#x8FC7;<span class="hljs-keyword">new</span> Son()&#x65B0;&#x5EFA;&#x201C;&#x5B50;&#x7EBF;&#x7A0B;s&#x201D;&#x3002;&#x63A5;&#x7740;&#x901A;&#x8FC7;s.start()&#x542F;&#x52A8;&#x201C;&#x5B50;&#x7EBF;&#x7A0B;s&#x201D;&#xFF0C;&#x5E76;&#x4E14;&#x8C03;&#x7528;s.join()&#x3002;&#x5728;&#x8C03;&#x7528;s.join()&#x4E4B;&#x540E;&#xFF0C;Father&#x4E3B;&#x7EBF;&#x7A0B;&#x4F1A;&#x4E00;&#x76F4;&#x7B49;&#x5F85;&#xFF0C;&#x76F4;&#x5230;&#x201C;&#x5B50;&#x7EBF;&#x7A0B;s&#x201D;&#x8FD0;&#x884C;&#x5B8C;&#x6BD5;&#xFF1B;&#x5728;&#x201C;&#x5B50;&#x7EBF;&#x7A0B;s&#x201D;&#x8FD0;&#x884C;&#x5B8C;&#x6BD5;&#x4E4B;&#x540E;&#xFF0C;Father&#x4E3B;&#x7EBF;&#x7A0B;&#x624D;&#x80FD;&#x63A5;&#x7740;&#x8FD0;&#x884C;&#x3002; &#x8FD9;&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x6240;&#x8BF4;&#x7684;&#x201C;join()&#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x662F;&#x8BA9;&#x4E3B;&#x7EBF;&#x7A0B;&#x4F1A;&#x7B49;&#x5F85;&#x5B50;&#x7EBF;&#x7A0B;&#x7ED3;&#x675F;&#x4E4B;&#x540E;&#x624D;&#x80FD;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#x201D;&#xFF01;

<span class="hljs-comment">// &#x95EE;&#x9898;&#xFF1A;</span>
&#x867D;&#x7136;s.join()&#x88AB;&#x8C03;&#x7528;&#x7684;&#x5730;&#x65B9;&#x662F;&#x53D1;&#x751F;&#x5728;&#x201C;Father&#x4E3B;&#x7EBF;&#x7A0B;&#x201D;&#x4E2D;&#xFF0C;&#x4F46;&#x662F;s.join()&#x662F;&#x901A;&#x8FC7;&#x201C;&#x5B50;&#x7EBF;&#x7A0B;s&#x201D;&#x53BB;&#x8C03;&#x7528;&#x7684;join()&#x3002;&#x90A3;&#x4E48;&#xFF0C;join()&#x65B9;&#x6CD5;&#x4E2D;&#x7684;isAlive()&#x5E94;&#x8BE5;&#x662F;&#x5224;&#x65AD;&#x201C;&#x5B50;&#x7EBF;&#x7A0B;s&#x201D;&#x662F;&#x4E0D;&#x662F;Alive&#x72B6;&#x6001;&#xFF1B;&#x5BF9;&#x5E94;&#x7684;wait(<span class="hljs-number">0</span>)&#x4E5F;&#x5E94;&#x8BE5;&#x662F;&#x201C;&#x8BA9;&#x5B50;&#x7EBF;&#x7A0B;s&#x201D;&#x7B49;&#x5F85;&#x624D;&#x5BF9;&#x3002;&#x4F46;&#x5982;&#x679C;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#xFF0C;s.join()&#x7684;&#x4F5C;&#x7528;&#x600E;&#x4E48;&#x53EF;&#x80FD;&#x662F;&#x201C;&#x8BA9;&#x4E3B;&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#xFF0C;&#x76F4;&#x5230;&#x5B50;&#x7EBF;&#x7A0B;s&#x5B8C;&#x6210;&#x4E3A;&#x6B62;&#x201D;&#x5462;&#xFF0C;&#x5E94;&#x8BE5;&#x662F;&#x8BA9;<span class="hljs-string">&quot;&#x5B50;&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#x624D;&#x5BF9;(&#x56E0;&#x4E3A;&#x8C03;&#x7528;&#x5B50;&#x7EBF;&#x7A0B;&#x5BF9;&#x8C61;s&#x7684;wait&#x65B9;&#x6CD5;&#x561B;)&quot;</span>&#xFF1F;
&#x7B54;&#x6848;&#xFF1A;wait()&#x7684;&#x4F5C;&#x7528;&#x662F;&#x8BA9;&#x201C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x201D;&#x7B49;&#x5F85;&#xFF0C;&#x800C;&#x8FD9;&#x91CC;&#x7684;&#x201C;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x201D;&#x662F;&#x6307;&#x5F53;&#x524D;&#x5728;CPU&#x4E0A;&#x8FD0;&#x884C;&#x7684;&#x7EBF;&#x7A0B;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x867D;&#x7136;&#x662F;&#x8C03;&#x7528;&#x5B50;&#x7EBF;&#x7A0B;&#x7684;wait()&#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x662F;&#x901A;&#x8FC7;&#x201C;&#x4E3B;&#x7EBF;&#x7A0B;&#x201D;&#x53BB;&#x8C03;&#x7528;&#x7684;&#xFF1B;&#x6240;&#x4EE5;&#xFF0C;&#x4F11;&#x7720;&#x7684;&#x662F;&#x4E3B;&#x7EBF;&#x7A0B;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x201C;&#x5B50;&#x7EBF;&#x7A0B;&#x201D;&#xFF01;
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">// JoinTest.java&#x7684;&#x6E90;&#x7801;</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JoinTest</span></span>{ 
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>{ 
        <span class="hljs-keyword">try</span> {
            ThreadA t1 = <span class="hljs-keyword">new</span> ThreadA(<span class="hljs-string">&quot;t1&quot;</span>); <span class="hljs-comment">// &#x65B0;&#x5EFA;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;</span>
            t1.start();                     <span class="hljs-comment">// &#x542F;&#x52A8;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;</span>
            t1.join();                        <span class="hljs-comment">// &#x5C06;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;&#x52A0;&#x5165;&#x5230;&#x201C;&#x4E3B;&#x7EBF;&#x7A0B;main&#x201D;&#x4E2D;&#xFF0C;&#x5E76;&#x4E14;&#x201C;&#x4E3B;&#x7EBF;&#x7A0B;main()&#x4F1A;&#x7B49;&#x5F85;&#x5B83;&#x7684;&#x5B8C;&#x6210;&#x201D;</span>
            System.out.printf(<span class="hljs-string">&quot;%s finish\n&quot;</span>, Thread.currentThread().getName()); 
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            e.printStackTrace();
        }
    } 

    <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThreadA</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span></span>{
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ThreadA</span><span class="hljs-params">(String name)</span></span>{ 
            <span class="hljs-keyword">super</span>(name); 
        } 
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span>{ 
            System.out.printf(<span class="hljs-string">&quot;%s start\n&quot;</span>, <span class="hljs-keyword">this</span>.getName()); 
            <span class="hljs-comment">// &#x5EF6;&#x65F6;&#x64CD;&#x4F5C;</span>
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i &lt;<span class="hljs-number">1000000</span>; i++) ;
            System.out.printf(<span class="hljs-string">&quot;%s finish\n&quot;</span>, <span class="hljs-keyword">this</span>.getName()); 
        } 
    } 
}

<span class="hljs-comment">// &#x7ED3;&#x679C;&#x8BF4;&#x660E;&#xFF1A;</span>
&#x8FD0;&#x884C;&#x6D41;&#x7A0B;&#x5982;&#x56FE; 
(<span class="hljs-number">01</span>) &#x5728;&#x201C;&#x4E3B;&#x7EBF;&#x7A0B;main&#x201D;&#x4E2D;&#x901A;&#x8FC7; <span class="hljs-keyword">new</span> ThreadA(<span class="hljs-string">&quot;t1&quot;</span>) &#x65B0;&#x5EFA;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;&#x3002; &#x63A5;&#x7740;&#xFF0C;&#x901A;&#x8FC7; t1.start() &#x542F;&#x52A8;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;&#xFF0C;&#x5E76;&#x6267;&#x884C;t1.join()&#x3002;
(<span class="hljs-number">02</span>) &#x6267;&#x884C;t1.join()&#x4E4B;&#x540E;&#xFF0C;&#x201C;&#x4E3B;&#x7EBF;&#x7A0B;main&#x201D;&#x4F1A;&#x8FDB;&#x5165;&#x201C;&#x963B;&#x585E;&#x72B6;&#x6001;&#x201D;&#x7B49;&#x5F85;t1&#x8FD0;&#x884C;&#x7ED3;&#x675F;&#x3002;&#x201C;&#x5B50;&#x7EBF;&#x7A0B;t1&#x201D;&#x7ED3;&#x675F;&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x5524;&#x9192;&#x201C;&#x4E3B;&#x7EBF;&#x7A0B;main&#x201D;&#xFF0C;&#x201C;&#x4E3B;&#x7EBF;&#x7A0B;&#x201D;&#x91CD;&#x65B0;&#x83B7;&#x53D6;cpu&#x6267;&#x884C;&#x6743;&#xFF0C;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#x3002;

t1 start
t1 finish
main finish
</code></pre>
<p><a href="https://images0.cnblogs.com/blog/497634/201312/18184312-a72a58e2bda54b17bf669f325ecda377.png" target="_blank"><img src="res/Java%20Thread/18184312-a72a58e2bda54b17bf669f325ecda377.png" alt="img"></a></p>
<h1 id="interrupt&#x548C;&#x7EBF;&#x7A0B;&#x7EC8;&#x6B62;&#x65B9;&#x5F0F;"><a name="interrupt&#x548C;&#x7EBF;&#x7A0B;&#x7EC8;&#x6B62;&#x65B9;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#interrupt&#x548C;&#x7EBF;&#x7A0B;&#x7EC8;&#x6B62;&#x65B9;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="interrupt&#x548C;&#x7EBF;&#x7A0B;&#x7EC8;&#x6B62;&#x65B9;&#x5F0F;" class="plugin-anchor" href="#interrupt&#x548C;&#x7EBF;&#x7A0B;&#x7EC8;&#x6B62;&#x65B9;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>interrupt()&#x548C;&#x7EBF;&#x7A0B;&#x7EC8;&#x6B62;&#x65B9;&#x5F0F;</h1>
<pre><code class="lang-java"><span class="hljs-comment">// &#x5173;&#x4E8E;interrupt()&#xFF0C;java&#x7684;djk&#x6587;&#x6863;&#x63CF;&#x8FF0;&#x5982;&#x4E0B;&#xFF1A;http://docs.oracle.com/javase/7/docs/api/</span>
Interrupts <span class="hljs-keyword">this</span> thread.
Unless the current thread is interrupting itself, which is always permitted, the checkAccess method of <span class="hljs-keyword">this</span> thread is invoked, which may cause a SecurityException to be thrown.
<span class="hljs-function">If <span class="hljs-keyword">this</span> thread is blocked in an invocation of the <span class="hljs-title">wait</span><span class="hljs-params">()</span>, <span class="hljs-title">wait</span><span class="hljs-params">(<span class="hljs-keyword">long</span>)</span>, or <span class="hljs-title">wait</span><span class="hljs-params">(<span class="hljs-keyword">long</span>, <span class="hljs-keyword">int</span>)</span> methods of the Object class, or of the <span class="hljs-title">join</span><span class="hljs-params">()</span>, <span class="hljs-title">join</span><span class="hljs-params">(<span class="hljs-keyword">long</span>)</span>, <span class="hljs-title">join</span><span class="hljs-params">(<span class="hljs-keyword">long</span>, <span class="hljs-keyword">int</span>)</span>, <span class="hljs-title">sleep</span><span class="hljs-params">(<span class="hljs-keyword">long</span>)</span>, or <span class="hljs-title">sleep</span><span class="hljs-params">(<span class="hljs-keyword">long</span>, <span class="hljs-keyword">int</span>)</span>, methods of <span class="hljs-keyword">this</span> class, then its interrupt status will be cleared and it will receive an InterruptedException.
If <span class="hljs-keyword">this</span> thread is blocked in an I/O operation upon an interruptible channel then the channel will be closed, the thread&apos;s interrupt status will be set, and the thread will receive a ClosedByInterruptException.
If <span class="hljs-keyword">this</span> thread is blocked in a Selector then the thread&apos;s interrupt status will be set and it will return immediately from the selection operation, possibly with a non-zero value, just as <span class="hljs-keyword">if</span> the selector&apos;s wakeup method were invoked.
If none of the previous conditions hold then <span class="hljs-keyword">this</span> thread&apos;s interrupt status will be set.
Interrupting a thread that is not alive need not have any effect.

<span class="hljs-title">interrupt</span><span class="hljs-params">()</span>&#x7684;&#x4F5C;&#x7528;&#x662F;&#x4E2D;&#x65AD;&#x672C;&#x7EBF;&#x7A0B;&#x3002;
&#x672C;&#x7EBF;&#x7A0B;&#x4E2D;&#x65AD;&#x81EA;&#x5DF1;&#x662F;&#x88AB;&#x5141;&#x8BB8;&#x7684;&#xFF1B;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x8C03;&#x7528;&#x672C;&#x7EBF;&#x7A0B;&#x7684;<span class="hljs-title">interrupt</span><span class="hljs-params">()</span>&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x4F1A;&#x901A;&#x8FC7;<span class="hljs-title">checkAccess</span><span class="hljs-params">()</span>&#x68C0;&#x67E5;&#x6743;&#x9650;&#x3002;&#x8FD9;&#x6709;&#x53EF;&#x80FD;&#x629B;&#x51FA;SecurityException&#x5F02;&#x5E38;&#x3002;
&#x5982;&#x679C;&#x672C;&#x7EBF;&#x7A0B;&#x662F;&#x5904;&#x4E8E;&#x963B;&#x585E;&#x72B6;&#x6001;&#xFF1A;&#x8C03;&#x7528;&#x7EBF;&#x7A0B;&#x7684;<span class="hljs-title">wait</span><span class="hljs-params">()</span>, <span class="hljs-title">wait</span><span class="hljs-params">(<span class="hljs-keyword">long</span>)</span>&#x6216;<span class="hljs-title">wait</span><span class="hljs-params">(<span class="hljs-keyword">long</span>, <span class="hljs-keyword">int</span>)</span>&#x4F1A;&#x8BA9;&#x5B83;&#x8FDB;&#x5165;&#x7B49;&#x5F85;<span class="hljs-params">(&#x963B;&#x585E;)</span>&#x72B6;&#x6001;&#xFF0C;&#x6216;&#x8005;&#x8C03;&#x7528;&#x7EBF;&#x7A0B;&#x7684;<span class="hljs-title">join</span><span class="hljs-params">()</span>, <span class="hljs-title">join</span><span class="hljs-params">(<span class="hljs-keyword">long</span>)</span>, <span class="hljs-title">join</span><span class="hljs-params">(<span class="hljs-keyword">long</span>, <span class="hljs-keyword">int</span>)</span>, <span class="hljs-title">sleep</span><span class="hljs-params">(<span class="hljs-keyword">long</span>)</span>, <span class="hljs-title">sleep</span><span class="hljs-params">(<span class="hljs-keyword">long</span>, <span class="hljs-keyword">int</span>)</span>&#x4E5F;&#x4F1A;&#x8BA9;&#x5B83;&#x8FDB;&#x5165;&#x963B;&#x585E;&#x72B6;&#x6001;&#x3002;&#x82E5;&#x7EBF;&#x7A0B;&#x5728;&#x963B;&#x585E;&#x72B6;&#x6001;&#x65F6;&#xFF0C;&#x8C03;&#x7528;&#x4E86;&#x5B83;&#x7684;<span class="hljs-title">interrupt</span><span class="hljs-params">()</span>&#x65B9;&#x6CD5;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x7684;&#x201C;&#x4E2D;&#x65AD;&#x72B6;&#x6001;&#x201D;&#x4F1A;&#x88AB;&#x6E05;&#x9664;&#x5E76;&#x4E14;&#x4F1A;&#x6536;&#x5230;&#x4E00;&#x4E2A;InterruptedException&#x5F02;&#x5E38;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x7EBF;&#x7A0B;&#x901A;&#x8FC7;<span class="hljs-title">wait</span><span class="hljs-params">()</span>&#x8FDB;&#x5165;&#x963B;&#x585E;&#x72B6;&#x6001;&#xFF0C;&#x6B64;&#x65F6;&#x901A;&#x8FC7;<span class="hljs-title">interrupt</span><span class="hljs-params">()</span>&#x4E2D;&#x65AD;&#x8BE5;&#x7EBF;&#x7A0B;&#xFF1B;&#x8C03;&#x7528;<span class="hljs-title">interrupt</span><span class="hljs-params">()</span>&#x4F1A;&#x7ACB;&#x5373;&#x5C06;&#x7EBF;&#x7A0B;&#x7684;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#x8BBE;&#x4E3A;&#x201C;<span class="hljs-keyword">true</span>&#x201D;&#xFF0C;&#x4F46;&#x662F;&#x7531;&#x4E8E;&#x7EBF;&#x7A0B;&#x5904;&#x4E8E;&#x963B;&#x585E;&#x72B6;&#x6001;&#xFF0C;&#x6240;&#x4EE5;&#x8BE5;&#x201C;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#x201D;&#x4F1A;&#x7ACB;&#x5373;&#x88AB;&#x6E05;&#x9664;&#x4E3A;&#x201C;<span class="hljs-keyword">false</span>&#x201D;&#xFF0C;&#x540C;&#x65F6;&#xFF0C;&#x4F1A;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;InterruptedException&#x7684;&#x5F02;&#x5E38;&#x3002;
&#x5982;&#x679C;&#x7EBF;&#x7A0B;&#x88AB;&#x963B;&#x585E;&#x5728;&#x4E00;&#x4E2A;Selector&#x9009;&#x62E9;&#x5668;&#x4E2D;&#xFF0C;&#x90A3;&#x4E48;&#x901A;&#x8FC7;<span class="hljs-title">interrupt</span><span class="hljs-params">()</span>&#x4E2D;&#x65AD;&#x5B83;&#x65F6;&#xFF1B;&#x7EBF;&#x7A0B;&#x7684;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#x4F1A;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A;<span class="hljs-keyword">true</span>&#xFF0C;&#x5E76;&#x4E14;&#x5B83;&#x4F1A;&#x7ACB;&#x5373;&#x4ECE;&#x9009;&#x62E9;&#x64CD;&#x4F5C;&#x4E2D;&#x8FD4;&#x56DE;&#x3002;
&#x5982;&#x679C;&#x4E0D;&#x5C5E;&#x4E8E;&#x524D;&#x9762;&#x6240;&#x8BF4;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x90A3;&#x4E48;&#x901A;&#x8FC7;<span class="hljs-title">interrupt</span><span class="hljs-params">()</span>&#x4E2D;&#x65AD;&#x7EBF;&#x7A0B;&#x65F6;&#xFF0C;&#x5B83;&#x7684;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#x4F1A;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A;&#x201C;<span class="hljs-keyword">true</span>&#x201D;&#x3002;
&#x4E2D;&#x65AD;&#x4E00;&#x4E2A;&#x201C;&#x5DF2;&#x7EC8;&#x6B62;&#x7684;&#x7EBF;&#x7A0B;&#x201D;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x4EFB;&#x4F55;&#x64CD;&#x4F5C;&#x3002;
</span></code></pre>
<p><strong>&#x7EC8;&#x6B62;&#x7EBF;&#x7A0B;&#x7684;&#x65B9;&#x5F0F;</strong></p>
<p>Thread&#x4E2D;&#x7684;stop()&#x548C;suspend()&#x65B9;&#x6CD5;&#xFF0C;&#x7531;&#x4E8E;&#x56FA;&#x6709;&#x7684;&#x4E0D;&#x5B89;&#x5168;&#x6027;&#xFF0C;&#x5DF2;&#x7ECF;&#x5EFA;&#x8BAE;&#x4E0D;&#x518D;&#x4F7F;&#x7528;&#xFF01;</p>
<p><strong>&#x7EC8;&#x6B62;&#x5904;&#x4E8E;&#x201C;&#x963B;&#x585E;&#x72B6;&#x6001;&#x201D;&#x7684;&#x7EBF;&#x7A0B;</strong></p>
<pre><code class="lang-java">&#x901A;&#x5E38;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x201C;&#x4E2D;&#x65AD;&#x201D;&#x65B9;&#x5F0F;&#x7EC8;&#x6B62;&#x5904;&#x4E8E;&#x201C;&#x963B;&#x585E;&#x72B6;&#x6001;&#x201D;&#x7684;&#x7EBF;&#x7A0B;&#x3002;
&#x5F53;&#x7EBF;&#x7A0B;&#x7531;&#x4E8E;&#x88AB;&#x8C03;&#x7528;&#x4E86;sleep(), wait(), join()&#x7B49;&#x65B9;&#x6CD5;&#x800C;&#x8FDB;&#x5165;&#x963B;&#x585E;&#x72B6;&#x6001;&#xFF1B;&#x82E5;&#x6B64;&#x65F6;&#x8C03;&#x7528;&#x7EBF;&#x7A0B;&#x7684;interrupt()&#x5C06;&#x7EBF;&#x7A0B;&#x7684;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#x8BBE;&#x4E3A;<span class="hljs-keyword">true</span>&#x3002;&#x7531;&#x4E8E;&#x5904;&#x4E8E;&#x963B;&#x585E;&#x72B6;&#x6001;&#xFF0C;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#x4F1A;&#x88AB;&#x6E05;&#x9664;&#xFF0C;&#x540C;&#x65F6;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;InterruptedException&#x5F02;&#x5E38;&#x3002;&#x5C06;InterruptedException&#x653E;&#x5728;&#x9002;&#x5F53;&#x7684;&#x4E3A;&#x6B62;&#x5C31;&#x80FD;&#x7EC8;&#x6B62;&#x7EBF;&#x7A0B;&#xFF0C;&#x5F62;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;

<span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">while</span> (<span class="hljs-keyword">true</span>) {
            <span class="hljs-comment">// &#x6267;&#x884C;&#x4EFB;&#x52A1;...</span>
        }
    } <span class="hljs-keyword">catch</span> (InterruptedException ie) {  
        <span class="hljs-comment">// &#x7531;&#x4E8E;&#x4EA7;&#x751F;InterruptedException&#x5F02;&#x5E38;&#xFF0C;&#x9000;&#x51FA;while(true)&#x5FAA;&#x73AF;&#xFF0C;&#x7EBF;&#x7A0B;&#x7EC8;&#x6B62;&#xFF01;</span>
    }
}

&#x8BF4;&#x660E;&#xFF1A;&#x5728;<span class="hljs-keyword">while</span>(<span class="hljs-keyword">true</span>)&#x4E2D;&#x4E0D;&#x65AD;&#x7684;&#x6267;&#x884C;&#x4EFB;&#x52A1;&#xFF0C;&#x5F53;&#x7EBF;&#x7A0B;&#x5904;&#x4E8E;&#x963B;&#x585E;&#x72B6;&#x6001;&#x65F6;&#xFF0C;&#x8C03;&#x7528;&#x7EBF;&#x7A0B;&#x7684;interrupt()&#x4EA7;&#x751F;InterruptedException&#x4E2D;&#x65AD;&#x3002;&#x4E2D;&#x65AD;&#x7684;&#x6355;&#x83B7;&#x5728;<span class="hljs-keyword">while</span>(<span class="hljs-keyword">true</span>)&#x4E4B;&#x5916;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x9000;&#x51FA;&#x4E86;<span class="hljs-keyword">while</span>(<span class="hljs-keyword">true</span>)&#x5FAA;&#x73AF;&#xFF01;
&#x6CE8;&#x610F;&#xFF1A;&#x5BF9;InterruptedException&#x7684;&#x6355;&#x83B7;&#x52A1;&#x4E00;&#x822C;&#x653E;&#x5728;<span class="hljs-keyword">while</span>(<span class="hljs-keyword">true</span>)&#x5FAA;&#x73AF;&#x4F53;&#x7684;&#x5916;&#x9762;&#xFF0C;&#x8FD9;&#x6837;&#xFF0C;&#x5728;&#x4EA7;&#x751F;&#x5F02;&#x5E38;&#x65F6;&#x5C31;&#x9000;&#x51FA;&#x4E86;<span class="hljs-keyword">while</span>(<span class="hljs-keyword">true</span>)&#x5FAA;&#x73AF;&#x3002;&#x5426;&#x5219;&#xFF0C;InterruptedException&#x5728;<span class="hljs-keyword">while</span>(<span class="hljs-keyword">true</span>)&#x5FAA;&#x73AF;&#x4F53;&#x4E4B;&#x5185;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x989D;&#x5916;&#x7684;&#x6DFB;&#x52A0;&#x9000;&#x51FA;&#x5904;&#x7406;&#x3002;
</code></pre>
<p><strong>&#x7EC8;&#x6B62;&#x5904;&#x4E8E;&#x201C;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x201D;&#x7684;&#x7EBF;&#x7A0B;</strong></p>
<pre><code class="lang-java">&#x901A;&#x5E38;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x201C;&#x6807;&#x8BB0;&#x201D;&#x65B9;&#x5F0F;&#x7EC8;&#x6B62;&#x5904;&#x4E8E;&#x201C;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x201D;&#x7684;&#x7EBF;&#x7A0B;&#x3002;&#x5176;&#x4E2D;&#xFF0C;&#x5305;&#x62EC;&#x201C;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#x201D;&#x548C;&#x201C;&#x989D;&#x5916;&#x6DFB;&#x52A0;&#x6807;&#x8BB0;&#x201D;&#x3002;
<span class="hljs-comment">// (01) &#x901A;&#x8FC7;&#x201C;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#x201D;&#x7EC8;&#x6B62;&#x7EBF;&#x7A0B;&#x3002;</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">while</span> (!isInterrupted()) {
        <span class="hljs-comment">// &#x6267;&#x884C;&#x4EFB;&#x52A1;...</span>
    }
}
&#x8BF4;&#x660E;&#xFF1A;isInterrupted()&#x662F;&#x5224;&#x65AD;&#x7EBF;&#x7A0B;&#x7684;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#x662F;&#x4E0D;&#x662F;&#x4E3A;<span class="hljs-keyword">true</span>&#x3002;&#x5F53;&#x7EBF;&#x7A0B;&#x5904;&#x4E8E;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#xFF0C;&#x5E76;&#x4E14;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7EC8;&#x6B62;&#x5B83;&#x65F6;&#xFF1B;&#x53EF;&#x4EE5;&#x8C03;&#x7528;&#x7EBF;&#x7A0B;&#x7684;interrupt()&#x65B9;&#x6CD5;&#xFF0C;&#x4F7F;&#x7528;&#x7EBF;&#x7A0B;&#x7684;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#x4E3A;<span class="hljs-keyword">true</span>&#xFF0C;&#x5373;isInterrupted()&#x4F1A;&#x8FD4;&#x56DE;<span class="hljs-keyword">true</span>&#x3002;&#x6B64;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x9000;&#x51FA;<span class="hljs-keyword">while</span>&#x5FAA;&#x73AF;&#x3002;
&#x6CE8;&#x610F;&#xFF1A;interrupt()&#x5E76;&#x4E0D;&#x4F1A;&#x7EC8;&#x6B62;&#x5904;&#x4E8E;&#x201C;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x201D;&#x7684;&#x7EBF;&#x7A0B;&#xFF01;&#x5B83;&#x4F1A;&#x5C06;&#x7EBF;&#x7A0B;&#x7684;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#x8BBE;&#x4E3A;<span class="hljs-keyword">true</span>&#x3002;

<span class="hljs-comment">// (02) &#x901A;&#x8FC7;&#x201C;&#x989D;&#x5916;&#x6DFB;&#x52A0;&#x6807;&#x8BB0;&#x201D;&#x3002;</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> <span class="hljs-keyword">boolean</span> flag= <span class="hljs-keyword">true</span>;
<span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">stopTask</span><span class="hljs-params">()</span> </span>{
    flag = <span class="hljs-keyword">false</span>;
}
<span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">while</span> (flag) {
        <span class="hljs-comment">// &#x6267;&#x884C;&#x4EFB;&#x52A1;...</span>
    }
}
&#x8BF4;&#x660E;&#xFF1A;&#x7EBF;&#x7A0B;&#x4E2D;&#x6709;&#x4E00;&#x4E2A;flag&#x6807;&#x8BB0;&#xFF0C;&#x5B83;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F;<span class="hljs-keyword">true</span>&#xFF1B;&#x5E76;&#x4E14;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;stopTask()&#x6765;&#x8BBE;&#x7F6E;flag&#x6807;&#x8BB0;&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7EC8;&#x6B62;&#x8BE5;&#x7EBF;&#x7A0B;&#x65F6;&#xFF0C;&#x8C03;&#x7528;&#x8BE5;&#x7EBF;&#x7A0B;&#x7684;stopTask()&#x65B9;&#x6CD5;&#x5C31;&#x53EF;&#x4EE5;&#x8BA9;&#x7EBF;&#x7A0B;&#x9000;&#x51FA;<span class="hljs-keyword">while</span>&#x5FAA;&#x73AF;&#x3002;
&#x6CE8;&#x610F;&#xFF1A;&#x5C06;flag&#x5B9A;&#x4E49;&#x4E3A;<span class="hljs-keyword">volatile</span>&#x7C7B;&#x578B;&#xFF0C;&#x662F;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;flag&#x7684;&#x53EF;&#x89C1;&#x6027;&#x3002;&#x5373;&#x5176;&#x5B83;&#x7EBF;&#x7A0B;&#x901A;&#x8FC7;stopTask()&#x4FEE;&#x6539;&#x4E86;flag&#x4E4B;&#x540E;&#xFF0C;&#x672C;&#x7EBF;&#x7A0B;&#x80FD;&#x770B;&#x5230;&#x4FEE;&#x6539;&#x540E;&#x7684;flag&#x7684;&#x503C;&#x3002;


<span class="hljs-comment">// &#x7EFC;&#x5408;&#x7EBF;&#x7A0B;&#x5904;&#x4E8E;&#x201C;&#x963B;&#x585E;&#x72B6;&#x6001;&#x201D;&#x548C;&#x201C;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x201D;&#x7684;&#x7EC8;&#x6B62;&#x65B9;&#x5F0F;&#xFF0C;&#x6BD4;&#x8F83;&#x901A;&#x7528;&#x7684;&#x7EC8;&#x6B62;&#x7EBF;&#x7A0B;&#x7684;&#x5F62;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// 1. isInterrupted()&#x4FDD;&#x8BC1;&#xFF0C;&#x53EA;&#x8981;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#x4E3A;true&#x5C31;&#x7EC8;&#x6B62;&#x7EBF;&#x7A0B;&#x3002;</span>
        <span class="hljs-keyword">while</span> (!isInterrupted()) {
            <span class="hljs-comment">// &#x6267;&#x884C;&#x4EFB;&#x52A1;...</span>
        }
    } <span class="hljs-keyword">catch</span> (InterruptedException ie) {  
        <span class="hljs-comment">// 2. InterruptedException&#x5F02;&#x5E38;&#x4FDD;&#x8BC1;&#xFF0C;&#x5F53;InterruptedException&#x5F02;&#x5E38;&#x4EA7;&#x751F;&#x65F6;&#xFF0C;&#x7EBF;&#x7A0B;&#x88AB;&#x7EC8;&#x6B62;&#x3002;</span>
    }
}
</code></pre>
<p><strong>&#x7EC8;&#x6B62;&#x7EBF;&#x7A0B;&#x7684;&#x793A;&#x4F8B;</strong></p>
<pre><code class="lang-java"><span class="hljs-comment">// &#x7EC8;&#x6B62;&#x7EBF;&#x7A0B;&#x7684;&#x793A;&#x4F8B;</span>
<span class="hljs-comment">// interrupt()&#x5E38;&#x5E38;&#x88AB;&#x7528;&#x6765;&#x7EC8;&#x6B62;&#x201C;&#x963B;&#x585E;&#x72B6;&#x6001;&#x201D;&#x7EBF;&#x7A0B;&#x3002;</span>
<span class="hljs-comment">// Demo1.java&#x7684;&#x6E90;&#x7801;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyThread</span><span class="hljs-params">(String name)</span> </span>{
        <span class="hljs-keyword">super</span>(name);
    }
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;
            <span class="hljs-keyword">while</span> (!isInterrupted()) {
                Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                i++;
                System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; (&quot;</span>+<span class="hljs-keyword">this</span>.getState()+<span class="hljs-string">&quot;) loop &quot;</span> + i);  
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {  
            System.out.println(Thread.currentThread().getName() +<span class="hljs-string">&quot; (&quot;</span>+<span class="hljs-keyword">this</span>.getState()+<span class="hljs-string">&quot;) catch InterruptedException.&quot;</span>);  
        }
    }
}
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo1</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{  
        <span class="hljs-keyword">try</span> {  
            Thread t1 = <span class="hljs-keyword">new</span> MyThread(<span class="hljs-string">&quot;t1&quot;</span>);  <span class="hljs-comment">// &#x65B0;&#x5EFA;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;</span>
            System.out.println(t1.getName() +<span class="hljs-string">&quot; (&quot;</span>+t1.getState()+<span class="hljs-string">&quot;) is new.&quot;</span>);  
            t1.start();                      <span class="hljs-comment">// &#x542F;&#x52A8;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;</span>
            System.out.println(t1.getName() +<span class="hljs-string">&quot; (&quot;</span>+t1.getState()+<span class="hljs-string">&quot;) is started.&quot;</span>);  
            <span class="hljs-comment">// &#x4E3B;&#x7EBF;&#x7A0B;&#x4F11;&#x7720;300ms&#xFF0C;&#x7136;&#x540E;&#x4E3B;&#x7EBF;&#x7A0B;&#x7ED9;t1&#x53D1;&#x201C;&#x4E2D;&#x65AD;&#x201D;&#x6307;&#x4EE4;&#x3002;</span>
            Thread.sleep(<span class="hljs-number">300</span>);
            t1.interrupt();
            System.out.println(t1.getName() +<span class="hljs-string">&quot; (&quot;</span>+t1.getState()+<span class="hljs-string">&quot;) is interrupted.&quot;</span>);
            <span class="hljs-comment">// &#x4E3B;&#x7EBF;&#x7A0B;&#x4F11;&#x7720;300ms&#xFF0C;&#x7136;&#x540E;&#x67E5;&#x770B;t1&#x7684;&#x72B6;&#x6001;&#x3002;</span>
            Thread.sleep(<span class="hljs-number">300</span>);
            System.out.println(t1.getName() +<span class="hljs-string">&quot; (&quot;</span>+t1.getState()+<span class="hljs-string">&quot;) is interrupted now.&quot;</span>);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {  
            e.printStackTrace();
        }
    } 
}

<span class="hljs-comment">// &#x7ED3;&#x679C;&#x8BF4;&#x660E;&#xFF1A;</span>
(<span class="hljs-number">01</span>) &#x4E3B;&#x7EBF;&#x7A0B;main&#x4E2D;&#x901A;&#x8FC7;<span class="hljs-keyword">new</span> MyThread(<span class="hljs-string">&quot;t1&quot;</span>)&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;t1&#xFF0C;&#x4E4B;&#x540E;&#x901A;&#x8FC7;t1.start()&#x542F;&#x52A8;&#x7EBF;&#x7A0B;t1&#x3002;
(<span class="hljs-number">02</span>) t1&#x542F;&#x52A8;&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x4E0D;&#x65AD;&#x7684;&#x68C0;&#x67E5;&#x5B83;&#x7684;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#xFF0C;&#x5982;&#x679C;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#x4E3A;&#x201C;<span class="hljs-keyword">false</span>&#x201D;&#xFF1B;&#x5219;&#x4F11;&#x7720;<span class="hljs-number">100</span>ms&#x3002;
(<span class="hljs-number">03</span>) t1&#x4F11;&#x7720;&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x5207;&#x6362;&#x5230;&#x4E3B;&#x7EBF;&#x7A0B;main&#xFF1B;&#x4E3B;&#x7EBF;&#x7A0B;&#x518D;&#x6B21;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x4F1A;&#x6267;&#x884C;t1.interrupt()&#x4E2D;&#x65AD;&#x7EBF;&#x7A0B;t1&#x3002;t1&#x6536;&#x5230;&#x4E2D;&#x65AD;&#x6307;&#x4EE4;&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x5C06;t1&#x7684;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#x8BBE;&#x7F6E;&#x201C;<span class="hljs-keyword">false</span>&#x201D;&#xFF0C;&#x800C;&#x4E14;&#x4F1A;&#x629B;&#x51FA;InterruptedException&#x5F02;&#x5E38;&#x3002;&#x5728;t1&#x7684;run()&#x65B9;&#x6CD5;&#x4E2D;&#xFF0C;&#x662F;&#x5728;&#x5FAA;&#x73AF;&#x4F53;<span class="hljs-keyword">while</span>&#x4E4B;&#x5916;&#x6355;&#x83B7;&#x7684;&#x5F02;&#x5E38;&#xFF1B;&#x56E0;&#x6B64;&#x5FAA;&#x73AF;&#x88AB;&#x7EC8;&#x6B62;&#x3002;

t1 (NEW) is <span class="hljs-keyword">new</span>.
t1 (RUNNABLE) is started.
t1 (RUNNABLE) loop <span class="hljs-number">1</span>
t1 (RUNNABLE) loop <span class="hljs-number">2</span>
t1 (TIMED_WAITING) is interrupted.
t1 (RUNNABLE) <span class="hljs-keyword">catch</span> InterruptedException.
t1 (TERMINATED) is interrupted now.
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">// &#x901A;&#x8FC7;&#x201C;&#x989D;&#x5916;&#x6DFB;&#x52A0;&#x6807;&#x8BB0;&#x201D;&#x7684;&#x65B9;&#x5F0F;&#x7EC8;&#x6B62;&#x201C;&#x72B6;&#x6001;&#x72B6;&#x6001;&#x201D;&#x7684;&#x7EBF;&#x7A0B;&#x7684;&#x793A;&#x4F8B;</span>
<span class="hljs-comment">// Demo3.java&#x7684;&#x6E90;&#x7801;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> <span class="hljs-keyword">boolean</span> flag= <span class="hljs-keyword">true</span>;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">stopTask</span><span class="hljs-params">()</span> </span>{
        flag = <span class="hljs-keyword">false</span>;
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyThread</span><span class="hljs-params">(String name)</span> </span>{
        <span class="hljs-keyword">super</span>(name);
    }
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">synchronized</span>(<span class="hljs-keyword">this</span>) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;
                <span class="hljs-keyword">while</span> (flag) {
                    Thread.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// &#x4F11;&#x7720;100ms</span>
                    i++;
                    System.out.println(Thread.currentThread().getName()+<span class="hljs-string">&quot; (&quot;</span>+<span class="hljs-keyword">this</span>.getState()+<span class="hljs-string">&quot;) loop &quot;</span> + i);  
                }
            } <span class="hljs-keyword">catch</span> (InterruptedException ie) {  
                System.out.println(Thread.currentThread().getName() +<span class="hljs-string">&quot; (&quot;</span>+<span class="hljs-keyword">this</span>.getState()+<span class="hljs-string">&quot;) catch InterruptedException.&quot;</span>);  
            }
        }  
    }
}
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo3</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{  
        <span class="hljs-keyword">try</span> {  
            MyThread t1 = <span class="hljs-keyword">new</span> MyThread(<span class="hljs-string">&quot;t1&quot;</span>);  <span class="hljs-comment">// &#x65B0;&#x5EFA;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;</span>
            System.out.println(t1.getName() +<span class="hljs-string">&quot; (&quot;</span>+t1.getState()+<span class="hljs-string">&quot;) is new.&quot;</span>);  
            t1.start();                      <span class="hljs-comment">// &#x542F;&#x52A8;&#x201C;&#x7EBF;&#x7A0B;t1&#x201D;</span>
            System.out.println(t1.getName() +<span class="hljs-string">&quot; (&quot;</span>+t1.getState()+<span class="hljs-string">&quot;) is started.&quot;</span>);  
            <span class="hljs-comment">// &#x4E3B;&#x7EBF;&#x7A0B;&#x4F11;&#x7720;300ms&#xFF0C;&#x7136;&#x540E;&#x4E3B;&#x7EBF;&#x7A0B;&#x7ED9;t1&#x53D1;&#x201C;&#x4E2D;&#x65AD;&#x201D;&#x6307;&#x4EE4;&#x3002;</span>
            Thread.sleep(<span class="hljs-number">300</span>);
            t1.stopTask();
            System.out.println(t1.getName() +<span class="hljs-string">&quot; (&quot;</span>+t1.getState()+<span class="hljs-string">&quot;) is interrupted.&quot;</span>);
            <span class="hljs-comment">// &#x4E3B;&#x7EBF;&#x7A0B;&#x4F11;&#x7720;300ms&#xFF0C;&#x7136;&#x540E;&#x67E5;&#x770B;t1&#x7684;&#x72B6;&#x6001;&#x3002;</span>
            Thread.sleep(<span class="hljs-number">300</span>);
            System.out.println(t1.getName() +<span class="hljs-string">&quot; (&quot;</span>+t1.getState()+<span class="hljs-string">&quot;) is interrupted now.&quot;</span>);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {  
            e.printStackTrace();
        }
    } 
}

t1 (NEW) is <span class="hljs-keyword">new</span>.
t1 (RUNNABLE) is started.
t1 (RUNNABLE) loop <span class="hljs-number">1</span>
t1 (RUNNABLE) loop <span class="hljs-number">2</span>
t1 (TIMED_WAITING) is interrupted.
t1 (RUNNABLE) loop <span class="hljs-number">3</span>
t1 (TERMINATED) is interrupted now.
</code></pre>
<p>interrupted() &#x548C; isInterrupted()&#x90FD;&#x80FD;&#x591F;&#x7528;&#x4E8E;&#x68C0;&#x6D4B;&#x5BF9;&#x8C61;&#x7684;&#x201C;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#x201D;&#x3002;</p>
<p>&#x533A;&#x522B;&#x662F;&#xFF0C;interrupted()&#x9664;&#x4E86;&#x8FD4;&#x56DE;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#x4E4B;&#x5916;&#xFF0C;&#x5B83;&#x8FD8;&#x4F1A;&#x6E05;&#x9664;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;(&#x5373;&#x5C06;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#x8BBE;&#x4E3A;false)&#xFF1B;</p>
<p>&#x800C;isInterrupted()&#x4EC5;&#x4EC5;&#x8FD4;&#x56DE;&#x4E2D;&#x65AD;&#x6807;&#x8BB0;&#x3002;</p>
<h1 id="&#x7EBF;&#x7A0B;&#x4F18;&#x5148;&#x7EA7;&#x548C;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;"><a name="&#x7EBF;&#x7A0B;&#x4F18;&#x5148;&#x7EA7;&#x548C;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;" class="anchor-navigation-ex-anchor" href="#&#x7EBF;&#x7A0B;&#x4F18;&#x5148;&#x7EA7;&#x548C;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x7EBF;&#x7A0B;&#x4F18;&#x5148;&#x7EA7;&#x548C;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;" class="plugin-anchor" href="#&#x7EBF;&#x7A0B;&#x4F18;&#x5148;&#x7EA7;&#x548C;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7EBF;&#x7A0B;&#x4F18;&#x5148;&#x7EA7;&#x548C;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;</h1>
<p>java &#x4E2D;&#x7684;&#x7EBF;&#x7A0B;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x8303;&#x56F4;&#x662F;1&#xFF5E;10&#xFF0C;&#x9ED8;&#x8BA4;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x662F;5&#x3002;&#x201C;&#x9AD8;&#x4F18;&#x5148;&#x7EA7;&#x7EBF;&#x7A0B;&#x201D;&#x4F1A;&#x4F18;&#x5148;&#x4E8E;&#x201C;&#x4F4E;&#x4F18;&#x5148;&#x7EA7;&#x7EBF;&#x7A0B;&#x201D;&#x6267;&#x884C;&#x3002;</p>
<p>java &#x4E2D;&#x6709;&#x4E24;&#x79CD;&#x7EBF;&#x7A0B;&#xFF1A;<strong>&#x7528;&#x6237;&#x7EBF;&#x7A0B;</strong>&#x548C;<strong>&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;</strong>&#x3002;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;isDaemon()&#x65B9;&#x6CD5;&#x6765;&#x533A;&#x522B;&#x5B83;&#x4EEC;&#xFF1A;&#x5982;&#x679C;&#x8FD4;&#x56DE;false&#xFF0C;&#x5219;&#x8BF4;&#x660E;&#x8BE5;&#x7EBF;&#x7A0B;&#x662F;&#x201C;&#x7528;&#x6237;&#x7EBF;&#x7A0B;&#x201D;&#xFF1B;&#x5426;&#x5219;&#x5C31;&#x662F;&#x201C;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;&#x201D;&#x3002;
&#x7528;&#x6237;&#x7EBF;&#x7A0B;&#x4E00;&#x822C;&#x7528;&#x6237;&#x6267;&#x884C;&#x7528;&#x6237;&#x7EA7;&#x4EFB;&#x52A1;&#xFF0C;&#x800C;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;&#x4E5F;&#x5C31;&#x662F;&#x201C;&#x540E;&#x53F0;&#x7EBF;&#x7A0B;&#x201D;&#xFF0C;&#x4E00;&#x822C;&#x7528;&#x6765;&#x6267;&#x884C;&#x540E;&#x53F0;&#x4EFB;&#x52A1;&#x3002;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF1A;Java&#x865A;&#x62DF;&#x673A;&#x5728;&#x201C;&#x7528;&#x6237;&#x7EBF;&#x7A0B;&#x201D;&#x90FD;&#x7ED3;&#x675F;&#x540E;&#x4F1A;&#x540E;&#x9000;&#x51FA;&#x3002;</p>
<p>JDK &#x4E2D;&#x5173;&#x4E8E;&#x7EBF;&#x7A0B;&#x4F18;&#x5148;&#x7EA7;&#x548C;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;&#x7684;&#x4ECB;&#x7ECD;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code class="lang-java">Every thread has a priority. Threads with higher priority are executed in preference to threads with lower priority. Each thread may or may not also be marked as a daemon. When code running in some thread creates a <span class="hljs-keyword">new</span> Thread object, the <span class="hljs-keyword">new</span> thread has its priority initially set equal to the priority of the creating thread, and is a daemon thread <span class="hljs-keyword">if</span> and only <span class="hljs-keyword">if</span> the creating thread is a daemon.

When a Java Virtual Machine starts up, there is usually a single non-<span class="hljs-function">daemon <span class="hljs-title">thread</span> <span class="hljs-params">(which typically calls the method named main of some designated class)</span>. The Java Virtual Machine continues to execute threads until either of the following occurs:

The exit method of class Runtime has been called and the security manager has permitted the exit operation to take place.
All threads that are not daemon threads have died, either by returning from the call to the run method or by throwing an exception that propagates beyond the run method. 
Marks <span class="hljs-keyword">this</span> thread as either a daemon thread or a user thread. The Java Virtual Machine exits when the only threads running are all daemon threads.

&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x4F18;&#x5148;&#x7EA7;&#x3002;&#x201C;&#x9AD8;&#x4F18;&#x5148;&#x7EA7;&#x7EBF;&#x7A0B;&#x201D;&#x4F1A;&#x4F18;&#x5148;&#x4E8E;&#x201C;&#x4F4E;&#x4F18;&#x5148;&#x7EA7;&#x7EBF;&#x7A0B;&#x201D;&#x6267;&#x884C;&#x3002;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x90FD;&#x53EF;&#x4EE5;&#x88AB;&#x6807;&#x8BB0;&#x4E3A;&#x4E00;&#x4E2A;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x6216;&#x975E;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x3002;&#x5728;&#x4E00;&#x4E9B;&#x8FD0;&#x884C;&#x7684;&#x4E3B;&#x7EBF;&#x7A0B;&#x4E2D;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x5B50;&#x7EBF;&#x7A0B;&#x65F6;&#xFF0C;&#x5B50;&#x7EBF;&#x7A0B;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A;&#x7B49;&#x4E8E;&#x201C;&#x521B;&#x5EFA;&#x5B83;&#x7684;&#x4E3B;&#x7EBF;&#x7A0B;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x201D;&#xFF0C;&#x5F53;&#x4E14;&#x4EC5;&#x5F53;&#x201C;&#x521B;&#x5EFA;&#x5B83;&#x7684;&#x4E3B;&#x7EBF;&#x7A0B;&#x662F;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;&#x201D;&#x65F6;&#x201C;&#x5B50;&#x7EBF;&#x7A0B;&#x624D;&#x4F1A;&#x662F;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;&#x201D;&#x3002;

&#x5F53;Java&#x865A;&#x62DF;&#x673A;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x901A;&#x5E38;&#x6709;&#x4E00;&#x4E2A;&#x5355;&#x4E00;&#x7684;&#x975E;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;&#xFF08;&#x8BE5;&#x7EBF;&#x7A0B;&#x901A;&#x8FC7;&#x662F;&#x901A;&#x8FC7;<span class="hljs-title">main</span><span class="hljs-params">()</span>&#x65B9;&#x6CD5;&#x542F;&#x52A8;&#xFF09;&#x3002;JVM&#x4F1A;&#x4E00;&#x76F4;&#x8FD0;&#x884C;&#x76F4;&#x5230;&#x4E0B;&#x9762;&#x7684;&#x4EFB;&#x610F;&#x4E00;&#x4E2A;&#x6761;&#x4EF6;&#x53D1;&#x751F;&#xFF0C;JVM&#x5C31;&#x4F1A;&#x7EC8;&#x6B62;&#x8FD0;&#x884C;&#xFF1A;
<span class="hljs-params">(<span class="hljs-number">01</span>)</span> &#x8C03;&#x7528;&#x4E86;<span class="hljs-title">exit</span><span class="hljs-params">()</span>&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x4E14;<span class="hljs-title">exit</span><span class="hljs-params">()</span>&#x6709;&#x6743;&#x9650;&#x88AB;&#x6B63;&#x5E38;&#x6267;&#x884C;&#x3002;
<span class="hljs-params">(<span class="hljs-number">02</span>)</span> &#x6240;&#x6709;&#x7684;&#x201C;&#x975E;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;&#x201D;&#x90FD;&#x6B7B;&#x4E86;<span class="hljs-params">(&#x5373;JVM&#x4E2D;&#x4EC5;&#x4EC5;&#x53EA;&#x6709;&#x201C;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;&#x201D;)</span>&#x3002;

&#x6BCF;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x90FD;&#x88AB;&#x6807;&#x8BB0;&#x4E3A;&#x201C;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;&#x201D;&#x6216;&#x201C;&#x7528;&#x6237;&#x7EBF;&#x7A0B;&#x201D;&#x3002;&#x5F53;&#x53EA;&#x6709;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;JVM&#x4F1A;&#x81EA;&#x52A8;&#x9000;&#x51FA;&#x3002;
</span></code></pre>
<pre><code class="lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span></span>{  
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyThread</span><span class="hljs-params">(String name)</span> </span>{
        <span class="hljs-keyword">super</span>(name);
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">5</span>; i++) {
            System.out.println(Thread.currentThread().getName()
                    +<span class="hljs-string">&quot;(&quot;</span>+Thread.currentThread().getPriority()+ <span class="hljs-string">&quot;)&quot;</span>
                    +<span class="hljs-string">&quot;, loop &quot;</span>+i);
        }
    } 
}
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo</span> </span>{  
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{  
        System.out.println(Thread.currentThread().getName()
                +<span class="hljs-string">&quot;(&quot;</span>+Thread.currentThread().getPriority()+ <span class="hljs-string">&quot;)&quot;</span>);
        Thread t1=<span class="hljs-keyword">new</span> MyThread(<span class="hljs-string">&quot;t1&quot;</span>);    <span class="hljs-comment">// &#x65B0;&#x5EFA;t1</span>
        Thread t2=<span class="hljs-keyword">new</span> MyThread(<span class="hljs-string">&quot;t2&quot;</span>);    <span class="hljs-comment">// &#x65B0;&#x5EFA;t2</span>
        t1.setPriority(<span class="hljs-number">1</span>);                <span class="hljs-comment">// &#x8BBE;&#x7F6E;t1&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x4E3A;1</span>
        t2.setPriority(<span class="hljs-number">10</span>);                <span class="hljs-comment">// &#x8BBE;&#x7F6E;t2&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x4E3A;10</span>
        t1.start();                        <span class="hljs-comment">// &#x542F;&#x52A8;t1</span>
        t2.start();                        <span class="hljs-comment">// &#x542F;&#x52A8;t2</span>
    }  
}

<span class="hljs-comment">// &#x7ED3;&#x679C;&#x8BF4;&#x660E;&#xFF1A;</span>
(<span class="hljs-number">01</span>) &#x4E3B;&#x7EBF;&#x7A0B;main&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x662F;<span class="hljs-number">5</span>&#x3002;
(<span class="hljs-number">02</span>) t1&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x88AB;&#x8BBE;&#x4E3A;<span class="hljs-number">1</span>&#xFF0C;&#x800C;t2&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x88AB;&#x8BBE;&#x4E3A;<span class="hljs-number">10</span>&#x3002;cpu&#x5728;&#x6267;&#x884C;t1&#x548C;t2&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6839;&#x636E;&#x65F6;&#x95F4;&#x7247;&#x8F6E;&#x5FAA;&#x8C03;&#x5EA6;&#xFF0C;&#x6240;&#x4EE5;&#x80FD;&#x591F;&#x5E76;&#x53D1;&#x6267;&#x884C;&#x3002;

main(<span class="hljs-number">5</span>)
t1(<span class="hljs-number">1</span>), loop <span class="hljs-number">0</span>
t2(<span class="hljs-number">10</span>), loop <span class="hljs-number">0</span>
t1(<span class="hljs-number">1</span>), loop <span class="hljs-number">1</span>
t2(<span class="hljs-number">10</span>), loop <span class="hljs-number">1</span>
t1(<span class="hljs-number">1</span>), loop <span class="hljs-number">2</span>
t2(<span class="hljs-number">10</span>), loop <span class="hljs-number">2</span>
t1(<span class="hljs-number">1</span>), loop <span class="hljs-number">3</span>
t2(<span class="hljs-number">10</span>), loop <span class="hljs-number">3</span>
t1(<span class="hljs-number">1</span>), loop <span class="hljs-number">4</span>
t2(<span class="hljs-number">10</span>), loop <span class="hljs-number">4</span>
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">// &#x5B88;&#x62A4;&#x7EBF;&#x7A0B;&#x7684;&#x793A;&#x4F8B;</span>
<span class="hljs-comment">// Demo.java</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span></span>{  
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyThread</span><span class="hljs-params">(String name)</span> </span>{
        <span class="hljs-keyword">super</span>(name);
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">5</span>; i++) {
                Thread.sleep(<span class="hljs-number">3</span>);
                System.out.println(<span class="hljs-keyword">this</span>.getName() +<span class="hljs-string">&quot;(isDaemon=&quot;</span>+<span class="hljs-keyword">this</span>.isDaemon()+ <span class="hljs-string">&quot;)&quot;</span> +<span class="hljs-string">&quot;, loop &quot;</span>+i);
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
        }
    } 
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyDaemon</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span></span>{  
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyDaemon</span><span class="hljs-params">(String name)</span> </span>{
        <span class="hljs-keyword">super</span>(name);
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">10000</span>; i++) {
                Thread.sleep(<span class="hljs-number">1</span>);
                System.out.println(<span class="hljs-keyword">this</span>.getName() +<span class="hljs-string">&quot;(isDaemon=&quot;</span>+<span class="hljs-keyword">this</span>.isDaemon()+ <span class="hljs-string">&quot;)&quot;</span> +<span class="hljs-string">&quot;, loop &quot;</span>+i);
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
        }
    } 
}
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo</span> </span>{  
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{  
        System.out.println(Thread.currentThread().getName()
                +<span class="hljs-string">&quot;(isDaemon=&quot;</span>+Thread.currentThread().isDaemon()+ <span class="hljs-string">&quot;)&quot;</span>);
        Thread t1=<span class="hljs-keyword">new</span> MyThread(<span class="hljs-string">&quot;t1&quot;</span>);    <span class="hljs-comment">// &#x65B0;&#x5EFA;t1</span>
        Thread t2=<span class="hljs-keyword">new</span> MyDaemon(<span class="hljs-string">&quot;t2&quot;</span>);    <span class="hljs-comment">// &#x65B0;&#x5EFA;t2</span>
        t2.setDaemon(<span class="hljs-keyword">true</span>);                <span class="hljs-comment">// &#x8BBE;&#x7F6E;t2&#x4E3A;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;</span>
        t1.start();                        <span class="hljs-comment">// &#x542F;&#x52A8;t1</span>
        t2.start();                        <span class="hljs-comment">// &#x542F;&#x52A8;t2</span>
    }  
}

<span class="hljs-comment">// &#x7ED3;&#x679C;&#x8BF4;&#x660E;&#xFF1A;</span>
(<span class="hljs-number">01</span>) &#x4E3B;&#x7EBF;&#x7A0B;main&#x662F;&#x7528;&#x6237;&#x7EBF;&#x7A0B;&#xFF0C;&#x5B83;&#x521B;&#x5EFA;&#x7684;&#x5B50;&#x7EBF;&#x7A0B;t1&#x4E5F;&#x662F;&#x7528;&#x6237;&#x7EBF;&#x7A0B;&#x3002;
(<span class="hljs-number">02</span>) t2&#x662F;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;&#x3002;&#x5728;&#x201C;&#x4E3B;&#x7EBF;&#x7A0B;main&#x201D;&#x548C;&#x201C;&#x5B50;&#x7EBF;&#x7A0B;t1&#x201D;(&#x5B83;&#x4EEC;&#x90FD;&#x662F;&#x7528;&#x6237;&#x7EBF;&#x7A0B;)&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#xFF0C;&#x53EA;&#x5269;t2&#x8FD9;&#x4E2A;&#x5B88;&#x62A4;&#x7EBF;&#x7A0B;&#x7684;&#x65F6;&#x5019;&#xFF0C;JVM&#x81EA;&#x52A8;&#x9000;&#x51FA;&#x3002;

main(isDaemon=<span class="hljs-keyword">false</span>)
t2(isDaemon=<span class="hljs-keyword">true</span>), loop <span class="hljs-number">0</span>
t2(isDaemon=<span class="hljs-keyword">true</span>), loop <span class="hljs-number">1</span>
t1(isDaemon=<span class="hljs-keyword">false</span>), loop <span class="hljs-number">0</span>
t2(isDaemon=<span class="hljs-keyword">true</span>), loop <span class="hljs-number">2</span>
t2(isDaemon=<span class="hljs-keyword">true</span>), loop <span class="hljs-number">3</span>
t1(isDaemon=<span class="hljs-keyword">false</span>), loop <span class="hljs-number">1</span>
t2(isDaemon=<span class="hljs-keyword">true</span>), loop <span class="hljs-number">4</span>
t2(isDaemon=<span class="hljs-keyword">true</span>), loop <span class="hljs-number">5</span>
t2(isDaemon=<span class="hljs-keyword">true</span>), loop <span class="hljs-number">6</span>
t1(isDaemon=<span class="hljs-keyword">false</span>), loop <span class="hljs-number">2</span>
t2(isDaemon=<span class="hljs-keyword">true</span>), loop <span class="hljs-number">7</span>
t2(isDaemon=<span class="hljs-keyword">true</span>), loop <span class="hljs-number">8</span>
t2(isDaemon=<span class="hljs-keyword">true</span>), loop <span class="hljs-number">9</span>
t1(isDaemon=<span class="hljs-keyword">false</span>), loop <span class="hljs-number">3</span>
t2(isDaemon=<span class="hljs-keyword">true</span>), loop <span class="hljs-number">10</span>
t2(isDaemon=<span class="hljs-keyword">true</span>), loop <span class="hljs-number">11</span>
t1(isDaemon=<span class="hljs-keyword">false</span>), loop <span class="hljs-number">4</span>
t2(isDaemon=<span class="hljs-keyword">true</span>), loop <span class="hljs-number">12</span>
</code></pre>
<h1 id="&#x751F;&#x4EA7;&#x6D88;&#x8D39;&#x8005;&#x95EE;&#x9898;"><a name="&#x751F;&#x4EA7;&#x6D88;&#x8D39;&#x8005;&#x95EE;&#x9898;" class="anchor-navigation-ex-anchor" href="#&#x751F;&#x4EA7;&#x6D88;&#x8D39;&#x8005;&#x95EE;&#x9898;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x751F;&#x4EA7;&#x6D88;&#x8D39;&#x8005;&#x95EE;&#x9898;" class="plugin-anchor" href="#&#x751F;&#x4EA7;&#x6D88;&#x8D39;&#x8005;&#x95EE;&#x9898;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x751F;&#x4EA7;&#x6D88;&#x8D39;&#x8005;&#x95EE;&#x9898;</h1>
<p>&#x751F;&#x4EA7;/&#x6D88;&#x8D39;&#x8005;&#x95EE;&#x9898;&#x662F;&#x4E2A;&#x975E;&#x5E38;&#x5178;&#x578B;&#x7684;&#x591A;&#x7EBF;&#x7A0B;&#x95EE;&#x9898;&#xFF0C;&#x6D89;&#x53CA;&#x5230;&#x7684;&#x5BF9;&#x8C61;&#x5305;&#x62EC;<strong>&#x201C;&#x751F;&#x4EA7;&#x8005;&#x201D;&#x3001;&#x201C;&#x6D88;&#x8D39;&#x8005;&#x201D;&#x3001;&#x201C;&#x4ED3;&#x5E93;&#x201D;&#x548C;&#x201C;&#x4EA7;&#x54C1;&#x201D;</strong>&#x3002;&#x4ED6;&#x4EEC;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x5982;&#x4E0B;&#xFF1A;
(01) &#x751F;&#x4EA7;&#x8005;&#x4EC5;&#x4EC5;&#x5728;&#x4ED3;&#x50A8;&#x672A;&#x6EE1;&#x65F6;&#x5019;&#x751F;&#x4EA7;&#xFF0C;&#x4ED3;&#x6EE1;&#x5219;&#x505C;&#x6B62;&#x751F;&#x4EA7;&#x3002;
(02) &#x6D88;&#x8D39;&#x8005;&#x4EC5;&#x4EC5;&#x5728;&#x4ED3;&#x50A8;&#x6709;&#x4EA7;&#x54C1;&#x65F6;&#x5019;&#x624D;&#x80FD;&#x6D88;&#x8D39;&#xFF0C;&#x4ED3;&#x7A7A;&#x5219;&#x7B49;&#x5F85;&#x3002;
(03) &#x5F53;&#x6D88;&#x8D39;&#x8005;&#x53D1;&#x73B0;&#x4ED3;&#x50A8;&#x6CA1;&#x4EA7;&#x54C1;&#x53EF;&#x6D88;&#x8D39;&#x65F6;&#x5019;&#x4F1A;&#x901A;&#x77E5;&#x751F;&#x4EA7;&#x8005;&#x751F;&#x4EA7;&#x3002;
(04) &#x751F;&#x4EA7;&#x8005;&#x5728;&#x751F;&#x4EA7;&#x51FA;&#x53EF;&#x6D88;&#x8D39;&#x4EA7;&#x54C1;&#x65F6;&#x5019;&#xFF0C;&#x5E94;&#x8BE5;&#x901A;&#x77E5;&#x7B49;&#x5F85;&#x7684;&#x6D88;&#x8D39;&#x8005;&#x53BB;&#x6D88;&#x8D39;&#x3002;</p>
<pre><code class="lang-java"><span class="hljs-comment">// &#x901A;&#x8FC7;wait()/notify()&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x8BE5;&#x6A21;&#x578B;(&#x540E;&#x9762;&#x5728;&#x5B66;&#x4E60;&#x4E86;&#x7EBF;&#x7A0B;&#x6C60;&#x76F8;&#x5173;&#x5185;&#x5BB9;&#x4E4B;&#x540E;&#xFF0C;&#x518D;&#x901A;&#x8FC7;&#x5176;&#x5B83;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x751F;&#x4EA7;/&#x6D88;&#x8D39;&#x8005;&#x6A21;&#x578B;)&#x3002;</span>
<span class="hljs-comment">// Demo1.java</span>
<span class="hljs-comment">// &#x4ED3;&#x5E93;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Depot</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> capacity;    <span class="hljs-comment">// &#x4ED3;&#x5E93;&#x7684;&#x5BB9;&#x91CF;</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> size;        <span class="hljs-comment">// &#x4ED3;&#x5E93;&#x7684;&#x5B9E;&#x9645;&#x6570;&#x91CF;</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Depot</span><span class="hljs-params">(<span class="hljs-keyword">int</span> capacity)</span> </span>{
        <span class="hljs-keyword">this</span>.capacity = capacity;
        <span class="hljs-keyword">this</span>.size = <span class="hljs-number">0</span>;
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">produce</span><span class="hljs-params">(<span class="hljs-keyword">int</span> val)</span> </span>{
        <span class="hljs-keyword">try</span> {
             <span class="hljs-comment">// left &#x8868;&#x793A;&#x201C;&#x60F3;&#x8981;&#x751F;&#x4EA7;&#x7684;&#x6570;&#x91CF;&#x201D;(&#x6709;&#x53EF;&#x80FD;&#x751F;&#x4EA7;&#x91CF;&#x592A;&#x591A;&#xFF0C;&#x9700;&#x591A;&#x6B64;&#x751F;&#x4EA7;)</span>
            <span class="hljs-keyword">int</span> left = val;
            <span class="hljs-keyword">while</span> (left &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-comment">// &#x5E93;&#x5B58;&#x5DF2;&#x6EE1;&#x65F6;&#xFF0C;&#x7B49;&#x5F85;&#x201C;&#x6D88;&#x8D39;&#x8005;&#x201D;&#x6D88;&#x8D39;&#x4EA7;&#x54C1;&#x3002;</span>
                <span class="hljs-keyword">while</span> (size &gt;= capacity)
                    wait();
                <span class="hljs-comment">// &#x83B7;&#x53D6;&#x201C;&#x5B9E;&#x9645;&#x751F;&#x4EA7;&#x7684;&#x6570;&#x91CF;&#x201D;(&#x5373;&#x5E93;&#x5B58;&#x4E2D;&#x65B0;&#x589E;&#x7684;&#x6570;&#x91CF;)</span>
                <span class="hljs-comment">// &#x5982;&#x679C;&#x201C;&#x5E93;&#x5B58;&#x201D;+&#x201C;&#x60F3;&#x8981;&#x751F;&#x4EA7;&#x7684;&#x6570;&#x91CF;&#x201D;&gt;&#x201C;&#x603B;&#x7684;&#x5BB9;&#x91CF;&#x201D;&#xFF0C;&#x5219;&#x201C;&#x5B9E;&#x9645;&#x589E;&#x91CF;&#x201D;=&#x201C;&#x603B;&#x7684;&#x5BB9;&#x91CF;&#x201D;-&#x201C;&#x5F53;&#x524D;&#x5BB9;&#x91CF;&#x201D;&#x3002;(&#x6B64;&#x65F6;&#x586B;&#x6EE1;&#x4ED3;&#x5E93;)</span>
                <span class="hljs-comment">// &#x5426;&#x5219;&#x201C;&#x5B9E;&#x9645;&#x589E;&#x91CF;&#x201D;=&#x201C;&#x60F3;&#x8981;&#x751F;&#x4EA7;&#x7684;&#x6570;&#x91CF;&#x201D;</span>
                <span class="hljs-keyword">int</span> inc = (size+left)&gt;capacity ? (capacity-size) : left;
                size += inc;
                left -= inc;
                System.out.printf(<span class="hljs-string">&quot;%s produce(%3d) --&gt; left=%3d, inc=%3d, size=%3d\n&quot;</span>, 
                        Thread.currentThread().getName(), val, left, inc, size);
                <span class="hljs-comment">// &#x901A;&#x77E5;&#x201C;&#x6D88;&#x8D39;&#x8005;&#x201D;&#x53EF;&#x4EE5;&#x6D88;&#x8D39;&#x4E86;&#x3002;</span>
                notifyAll();
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
        }
    } 
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">consume</span><span class="hljs-params">(<span class="hljs-keyword">int</span> val)</span> </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// left &#x8868;&#x793A;&#x201C;&#x5BA2;&#x6237;&#x8981;&#x6D88;&#x8D39;&#x6570;&#x91CF;&#x201D;(&#x6709;&#x53EF;&#x80FD;&#x6D88;&#x8D39;&#x91CF;&#x592A;&#x5927;&#xFF0C;&#x5E93;&#x5B58;&#x4E0D;&#x591F;&#xFF0C;&#x9700;&#x591A;&#x6B64;&#x6D88;&#x8D39;)</span>
            <span class="hljs-keyword">int</span> left = val;
            <span class="hljs-keyword">while</span> (left &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-comment">// &#x5E93;&#x5B58;&#x4E3A;0&#x65F6;&#xFF0C;&#x7B49;&#x5F85;&#x201C;&#x751F;&#x4EA7;&#x8005;&#x201D;&#x751F;&#x4EA7;&#x4EA7;&#x54C1;&#x3002;</span>
                <span class="hljs-keyword">while</span> (size &lt;= <span class="hljs-number">0</span>)
                    wait();
                <span class="hljs-comment">// &#x83B7;&#x53D6;&#x201C;&#x5B9E;&#x9645;&#x6D88;&#x8D39;&#x7684;&#x6570;&#x91CF;&#x201D;(&#x5373;&#x5E93;&#x5B58;&#x4E2D;&#x5B9E;&#x9645;&#x51CF;&#x5C11;&#x7684;&#x6570;&#x91CF;)</span>
                <span class="hljs-comment">// &#x5982;&#x679C;&#x201C;&#x5E93;&#x5B58;&#x201D;&lt;&#x201C;&#x5BA2;&#x6237;&#x8981;&#x6D88;&#x8D39;&#x7684;&#x6570;&#x91CF;&#x201D;&#xFF0C;&#x5219;&#x201C;&#x5B9E;&#x9645;&#x6D88;&#x8D39;&#x91CF;&#x201D;=&#x201C;&#x5E93;&#x5B58;&#x201D;&#xFF1B;</span>
                <span class="hljs-comment">// &#x5426;&#x5219;&#xFF0C;&#x201C;&#x5B9E;&#x9645;&#x6D88;&#x8D39;&#x91CF;&#x201D;=&#x201C;&#x5BA2;&#x6237;&#x8981;&#x6D88;&#x8D39;&#x7684;&#x6570;&#x91CF;&#x201D;&#x3002;</span>
                <span class="hljs-keyword">int</span> dec = (size&lt;left) ? size : left;
                size -= dec;
                left -= dec;
                System.out.printf(<span class="hljs-string">&quot;%s consume(%3d) &lt;-- left=%3d, dec=%3d, size=%3d\n&quot;</span>, 
                        Thread.currentThread().getName(), val, left, dec, size);
                notifyAll();
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
        }
    }
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;capacity:&quot;</span>+capacity+<span class="hljs-string">&quot;, actual size:&quot;</span>+size;
    }
} 

<span class="hljs-comment">// &#x751F;&#x4EA7;&#x8005;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Producer</span> </span>{
    <span class="hljs-keyword">private</span> Depot depot;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Producer</span><span class="hljs-params">(Depot depot)</span> </span>{
        <span class="hljs-keyword">this</span>.depot = depot;
    }
    <span class="hljs-comment">// &#x6D88;&#x8D39;&#x4EA7;&#x54C1;&#xFF1A;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x5411;&#x4ED3;&#x5E93;&#x4E2D;&#x751F;&#x4EA7;&#x4EA7;&#x54C1;&#x3002;</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">produce</span><span class="hljs-params">(<span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> val)</span> </span>{
        <span class="hljs-keyword">new</span> Thread() {
            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
                depot.produce(val);
            }
        }.start();
    }
}

<span class="hljs-comment">// &#x6D88;&#x8D39;&#x8005;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Customer</span> </span>{
    <span class="hljs-keyword">private</span> Depot depot;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Customer</span><span class="hljs-params">(Depot depot)</span> </span>{
        <span class="hljs-keyword">this</span>.depot = depot;
    }
    <span class="hljs-comment">// &#x6D88;&#x8D39;&#x4EA7;&#x54C1;&#xFF1A;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x4ECE;&#x4ED3;&#x5E93;&#x4E2D;&#x6D88;&#x8D39;&#x4EA7;&#x54C1;&#x3002;</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">consume</span><span class="hljs-params">(<span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> val)</span> </span>{
        <span class="hljs-keyword">new</span> Thread() {
            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
                depot.consume(val);
            }
        }.start();
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo1</span> </span>{  
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{  
        Depot mDepot = <span class="hljs-keyword">new</span> Depot(<span class="hljs-number">100</span>);
        Producer mPro = <span class="hljs-keyword">new</span> Producer(mDepot);
        Customer mCus = <span class="hljs-keyword">new</span> Customer(mDepot);
        mPro.produce(<span class="hljs-number">60</span>);
        mPro.produce(<span class="hljs-number">120</span>);
        mCus.consume(<span class="hljs-number">90</span>);
        mCus.consume(<span class="hljs-number">150</span>);
        mPro.produce(<span class="hljs-number">110</span>);
    }
}

<span class="hljs-comment">// &#x8BF4;&#x660E;&#xFF1A;</span>
(<span class="hljs-number">01</span>) Producer&#x662F;&#x201C;&#x751F;&#x4EA7;&#x8005;&#x201D;&#x7C7B;&#xFF0C;&#x5B83;&#x4E0E;&#x201C;&#x4ED3;&#x5E93;(depot)&#x201D;&#x5173;&#x8054;&#x3002;&#x5F53;&#x8C03;&#x7528;&#x201C;&#x751F;&#x4EA7;&#x8005;&#x201D;&#x7684;produce()&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x5E76;&#x5411;&#x201C;&#x4ED3;&#x5E93;&#x201D;&#x4E2D;&#x751F;&#x4EA7;&#x4EA7;&#x54C1;&#x3002;
(<span class="hljs-number">02</span>) Customer&#x662F;&#x201C;&#x6D88;&#x8D39;&#x8005;&#x201D;&#x7C7B;&#xFF0C;&#x5B83;&#x4E0E;&#x201C;&#x4ED3;&#x5E93;(depot)&#x201D;&#x5173;&#x8054;&#x3002;&#x5F53;&#x8C03;&#x7528;&#x201C;&#x6D88;&#x8D39;&#x8005;&#x201D;&#x7684;consume()&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x5E76;&#x6D88;&#x8D39;&#x201C;&#x4ED3;&#x5E93;&#x201D;&#x4E2D;&#x7684;&#x4EA7;&#x54C1;&#x3002;
(<span class="hljs-number">03</span>) Depot&#x662F;&#x201C;&#x4ED3;&#x5E93;&#x201D;&#x7C7B;&#xFF0C;&#x4ED3;&#x5E93;&#x4E2D;&#x8BB0;&#x5F55;&#x201C;&#x4ED3;&#x5E93;&#x7684;&#x5BB9;&#x91CF;(capacity)&#x201D;&#x4EE5;&#x53CA;&#x201C;&#x4ED3;&#x5E93;&#x4E2D;&#x5F53;&#x524D;&#x4EA7;&#x54C1;&#x6570;&#x76EE;(size)&#x201D;&#x3002;
    &#x201C;&#x4ED3;&#x5E93;&#x201D;&#x7C7B;&#x7684;&#x751F;&#x4EA7;&#x65B9;&#x6CD5;produce()&#x548C;&#x6D88;&#x8D39;&#x65B9;&#x6CD5;consume()&#x65B9;&#x6CD5;&#x90FD;&#x662F;<span class="hljs-keyword">synchronized</span>&#x65B9;&#x6CD5;&#xFF0C;&#x8FDB;&#x5165;<span class="hljs-keyword">synchronized</span>&#x65B9;&#x6CD5;&#x4F53;&#xFF0C;&#x610F;&#x5473;&#x7740;&#x8FD9;&#x4E2A;&#x7EBF;&#x7A0B;&#x83B7;&#x53D6;&#x5230;&#x4E86;&#x8BE5;&#x201C;&#x4ED3;&#x5E93;&#x201D;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x9501;&#x3002;&#x8FD9;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#xFF0C;&#x751F;&#x4EA7;&#x8005;&#x548C;&#x6D88;&#x8D39;&#x8005;&#x7EBF;&#x7A0B;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x80FD;&#x8FD0;&#x884C;&#x3002;&#x901A;&#x8FC7;&#x540C;&#x6B65;&#x9501;&#xFF0C;&#x5B9E;&#x73B0;&#x4E86;&#x5BF9;&#x201C;&#x6B8B;&#x9177;&#x201D;&#x7684;&#x4E92;&#x65A5;&#x8BBF;&#x95EE;&#x3002;
    &#x5BF9;&#x4E8E;&#x751F;&#x4EA7;&#x65B9;&#x6CD5;produce()&#x800C;&#x8A00;&#xFF1A;&#x5F53;&#x4ED3;&#x5E93;&#x6EE1;&#x65F6;&#xFF0C;&#x751F;&#x4EA7;&#x8005;&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#xFF0C;&#x9700;&#x8981;&#x7B49;&#x5F85;&#x6D88;&#x8D39;&#x8005;&#x6D88;&#x8D39;&#x4EA7;&#x54C1;&#x4E4B;&#x540E;&#xFF0C;&#x751F;&#x4EA7;&#x7EBF;&#x7A0B;&#x624D;&#x80FD;&#x751F;&#x4EA7;&#xFF1B;&#x751F;&#x4EA7;&#x8005;&#x7EBF;&#x7A0B;&#x751F;&#x4EA7;&#x5B8C;&#x4EA7;&#x54C1;&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x901A;&#x8FC7;notifyAll()&#x5524;&#x9192;&#x540C;&#x6B65;&#x9501;&#x4E0A;&#x7684;&#x6240;&#x6709;&#x7EBF;&#x7A0B;&#xFF0C;&#x5305;&#x62EC;&#x201C;&#x6D88;&#x8D39;&#x8005;&#x7EBF;&#x7A0B;&#x201D;&#xFF0C;&#x5373;&#x6211;&#x4EEC;&#x6240;&#x8BF4;&#x7684;&#x201C;&#x901A;&#x77E5;&#x6D88;&#x8D39;&#x8005;&#x8FDB;&#x884C;&#x6D88;&#x8D39;&#x201D;&#x3002;
    &#x5BF9;&#x4E8E;&#x6D88;&#x8D39;&#x65B9;&#x6CD5;consume()&#x800C;&#x8A00;&#xFF1A;&#x5F53;&#x4ED3;&#x5E93;&#x4E3A;&#x7A7A;&#x65F6;&#xFF0C;&#x6D88;&#x8D39;&#x8005;&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#xFF0C;&#x9700;&#x8981;&#x7B49;&#x5F85;&#x751F;&#x4EA7;&#x8005;&#x751F;&#x4EA7;&#x4EA7;&#x54C1;&#x4E4B;&#x540E;&#xFF0C;&#x6D88;&#x8D39;&#x8005;&#x7EBF;&#x7A0B;&#x624D;&#x80FD;&#x6D88;&#x8D39;&#xFF1B;&#x6D88;&#x8D39;&#x8005;&#x7EBF;&#x7A0B;&#x6D88;&#x8D39;&#x5B8C;&#x4EA7;&#x54C1;&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x901A;&#x8FC7;notifyAll()&#x5524;&#x9192;&#x540C;&#x6B65;&#x9501;&#x4E0A;&#x7684;&#x6240;&#x6709;&#x7EBF;&#x7A0B;&#xFF0C;&#x5305;&#x62EC;&#x201C;&#x751F;&#x4EA7;&#x8005;&#x7EBF;&#x7A0B;&#x201D;&#xFF0C;&#x5373;&#x6211;&#x4EEC;&#x6240;&#x8BF4;&#x7684;&#x201C;&#x901A;&#x77E5;&#x751F;&#x4EA7;&#x8005;&#x8FDB;&#x884C;&#x751F;&#x4EA7;&#x201D;&#x3002;

Thread-<span class="hljs-number">0</span> produce( <span class="hljs-number">60</span>) --&gt; left=  <span class="hljs-number">0</span>, inc= <span class="hljs-number">60</span>, size= <span class="hljs-number">60</span>
Thread-<span class="hljs-number">4</span> produce(<span class="hljs-number">110</span>) --&gt; left= <span class="hljs-number">70</span>, inc= <span class="hljs-number">40</span>, size=<span class="hljs-number">100</span>
Thread-<span class="hljs-number">2</span> consume( <span class="hljs-number">90</span>) &lt;-- left=  <span class="hljs-number">0</span>, dec= <span class="hljs-number">90</span>, size= <span class="hljs-number">10</span>
Thread-<span class="hljs-number">3</span> consume(<span class="hljs-number">150</span>) &lt;-- left=<span class="hljs-number">140</span>, dec= <span class="hljs-number">10</span>, size=  <span class="hljs-number">0</span>
Thread-<span class="hljs-number">1</span> produce(<span class="hljs-number">120</span>) --&gt; left= <span class="hljs-number">20</span>, inc=<span class="hljs-number">100</span>, size=<span class="hljs-number">100</span>
Thread-<span class="hljs-number">3</span> consume(<span class="hljs-number">150</span>) &lt;-- left= <span class="hljs-number">40</span>, dec=<span class="hljs-number">100</span>, size=  <span class="hljs-number">0</span>
Thread-<span class="hljs-number">4</span> produce(<span class="hljs-number">110</span>) --&gt; left=  <span class="hljs-number">0</span>, inc= <span class="hljs-number">70</span>, size= <span class="hljs-number">70</span>
Thread-<span class="hljs-number">3</span> consume(<span class="hljs-number">150</span>) &lt;-- left=  <span class="hljs-number">0</span>, dec= <span class="hljs-number">40</span>, size= <span class="hljs-number">30</span>
Thread-<span class="hljs-number">1</span> produce(<span class="hljs-number">120</span>) --&gt; left=  <span class="hljs-number">0</span>, inc= <span class="hljs-number">20</span>, size= <span class="hljs-number">50</span>
</code></pre>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; narutohyc.com 2020 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x8BE5;&#x6587;&#x4EF6;&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2022-01-25 06:13:34
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="多线程.md" class="navigation navigation-prev " aria-label="Previous page: 多线程">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="多线程_锁.html" class="navigation navigation-next " aria-label="Next page: 多线程_锁">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"多线程_基础篇","level":"1.3.1","depth":2,"next":{"title":"多线程_锁","level":"1.3.2","depth":2,"path":"chapters/多线程_锁.md","ref":"chapters/多线程_锁.md","articles":[]},"previous":{"title":"多线程","level":"1.3","depth":1,"path":"chapters/多线程.md","ref":"chapters/多线程.md","articles":[{"title":"多线程_基础篇","level":"1.3.1","depth":2,"path":"chapters/多线程_基础篇.md","ref":"chapters/多线程_基础篇.md","articles":[]},{"title":"多线程_锁","level":"1.3.2","depth":2,"path":"chapters/多线程_锁.md","ref":"chapters/多线程_锁.md","articles":[]},{"title":"多线程_JUC原子类","level":"1.3.3","depth":2,"path":"chapters/多线程_JUC原子类.md","ref":"chapters/多线程_JUC原子类.md","articles":[]},{"title":"多线程_JUC锁集合 ","level":"1.3.4","depth":2,"path":"chapters/多线程_JUC锁集合 .md","ref":"chapters/多线程_JUC锁集合 .md","articles":[]},{"title":"多线程_ JUC集合","level":"1.3.5","depth":2,"path":"chapters/多线程_ JUC集合.md","ref":"chapters/多线程_ JUC集合.md","articles":[]},{"title":"多线程_JUC线程池","level":"1.3.6","depth":2,"path":"chapters/多线程_JUC线程池.md","ref":"chapters/多线程_JUC线程池.md","articles":[]},{"title":"多线程_生产者消费者","level":"1.3.7","depth":2,"path":"chapters/多线程_生产者消费者.md","ref":"chapters/多线程_生产者消费者.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["-sharing","splitter","expandable-chapters-small","anchors","github","github-buttons","donate","sharing-plus","anchor-navigation-ex","mathjax","mermaid-gb3","tbfed-pagefooter","code"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright © narutohyc.com 2020","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"github":{"url":"https://github.com/narutohyc"},"splitter":{},"search":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"code":{"copyButtons":true},"donate":{"alipay":"https://upload-images.jianshu.io/upload_images/15675864-5e5ba668035853d8.png","alipayText":"支付宝打赏","button":"赏","title":"","wechat":"https://upload-images.jianshu.io/upload_images/15675864-5e5ba668035853d8.png","wechatText":"微信打赏"},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"mermaid-gb3":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":false},"github-buttons":{"buttons":[{"user":"narutohyc","repo":"bk_jdk","type":"star","size":"small","count":true}]},"mathjax":{"forceSVG":false,"version":"2.6-latest"},"expandable-chapters-small":{},"sharing":{"qq":false,"all":["google","facebook","weibo","twitter","qq","qzone","linkedin","pocket"],"douban":false,"facebook":false,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":false,"messenger":false,"line":false,"vk":false,"pocket":false,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":true},"anchors":{}},"theme":"default","author":"narutohyc","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Java相关学习记录","language":"zh-hans","links":{"sidebar":{"我的狗窝":"https://github.com/narutohyc"}},"gitbook":"*","description":"记录 Java 的学习和一些技巧的使用"},"file":{"path":"chapters/多线程_基础篇.md","mtime":"2022-01-25T06:13:34.645Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-01-25T06:14:21.701Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-donate/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="https://cdn.mathjax.org/mathjax/2.6-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-mathjax/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-mermaid-gb3/book/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    <script src="../gitbook/gitbook-plugin-mermaid-gb3/mermaid/mermaid.min.js"></script>

    </body>
</html>

